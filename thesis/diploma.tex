\documentclass[a4paper, 12pt]{book}
% \documentclass[a4paper, 12pt, draft]{book} % Nalogo preverite tudi z opcijo draft, ki vam bo pokazala, katere vrstice so predolge!



\usepackage[utf8x]{inputenc}   % omogoča uporabo slovenskih črk kodiranih v formatu UTF-8
\usepackage[slovene,english]{babel}    % naloži, med drugim, slovenske delilne vzorce
\usepackage[pdftex]{graphicx}  % omogoča vlaganje slik različnih formatov
\usepackage{fancyhdr}          % poskrbi, na primer, za glave strani
\usepackage{amssymb}           % dodatni simboli
\usepackage{amsmath}           % eqref, npr.
%\usepackage{hyperxmp}
\usepackage[hyphens]{url}  % dodal Solina
\usepackage{comment}       % dodal Solina

\usepackage[pdftex, colorlinks=true,
						citecolor=black, filecolor=black, 
						linkcolor=black, urlcolor=black,
						pagebackref=false, 
						pdfproducer={LaTeX}, pdfcreator={LaTeX}, hidelinks]{hyperref}

\usepackage{color}       % dodal Solina
\usepackage{soul}       % dodal Solina
\usepackage[numbers]{natbib}  % dodal Solina

\usepackage{longtable}
\usepackage{tikz}
\usepackage{enumitem}
\usepackage{listings}% http://ctan.org/pkg/listings
\lstset{
    basicstyle=\ttfamily,
    mathescape,
    inputencoding = utf8,  % Input encoding
    extendedchars = true,  % Extended ASCII
    literate      =        % Support additional characters
      {Č}{{\v{C}}}1  {č}{{\v{c}}}1  
      {Š}{{\v{S}}}1  {š}{{\v{s}}}1  
      {Ž}{{\v{Z}}}1  {ž}{{\v{z}}}1
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%	DIPLOMA INFO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ttitle}{Inverzije permutacij, permutacijski grafi in tekmovalnostni grafi}
\newcommand{\ttitleEn}{Inversions of permutations, permutation graphs and competitivity graphs}
\newcommand{\tsubject}{\ttitle}
\newcommand{\tsubjectEn}{\ttitleEn}
\newcommand{\tauthor}{Luka Uranič}
\newcommand{\tkeywords}{permutacije, inverzije, rangiranja, permutacijski grafi, tekmovalnostni grafi, primerljivostni grafi}
\newcommand{\tkeywordsEn}{permutations, inversions, rankings, permutation graphs, competitivity graphs, comparability graphs}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%	HYPERREF SETUP
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\hypersetup{pdftitle={\ttitle}}
\hypersetup{pdfsubject=\ttitleEn}
\hypersetup{pdfauthor={\tauthor, lu3748@student.uni-lj.is}}
\hypersetup{pdfkeywords=\tkeywordsEn}


 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% postavitev strani
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  

\addtolength{\marginparwidth}{-20pt} % robovi za tisk
\addtolength{\oddsidemargin}{40pt}
\addtolength{\evensidemargin}{-40pt}

\renewcommand{\baselinestretch}{1.3} % ustrezen razmik med vrsticami
\setlength{\headheight}{15pt}        % potreben prostor na vrhu
\renewcommand{\chaptermark}[1]%
{\markboth{\MakeUppercase{\thechapter.\ #1}}{}} \renewcommand{\sectionmark}[1]%
{\markright{\MakeUppercase{\thesection.\ #1}}} \renewcommand{\headrulewidth}{0.5pt} \renewcommand{\footrulewidth}{0pt}
\fancyhf{}
\fancyhead[LE,RO]{\sl \thepage} 
%\fancyhead[LO]{\sl \rightmark} \fancyhead[RE]{\sl \leftmark}
\fancyhead[RE]{\sc \tauthor}              % dodal Solina
\fancyhead[LO]{\sc Diplomska naloga}     % dodal Solina


\newcommand{\BibTeX}{{\sc Bib}\TeX}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% naslovi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  


\newcommand{\autfont}{\Large}
\newcommand{\titfont}{\LARGE\bf}
\newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}
\setcounter{tocdepth}{1}	      % globina kazala

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% konstrukti
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
\newtheorem{definicija}{Definicija}[chapter]
\newtheorem{lema}{Lema}[chapter]
\newtheorem{izrek}{Izrek}[chapter]
\newtheorem{trditev}{Trditev}[chapter]
\newtheorem{posledica}{Posledica}[chapter]
\newtheorem{domneva}{Domneva}[chapter]
\newtheorem{primer}{Primer}[chapter]
\newtheorem{opomba}{Opomba}[chapter]
\newenvironment{dokaz}{\emph{Dokaz.}\ }{\hspace{\fill}{$\Box$}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% PDF-A
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% define medatata
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\def\Title{\ttitle}
\def\Author{\tauthor, lu3748@student.uni-lj.si}
\def\Subject{\ttitleEn}
\def\Keywords{\tkeywordsEn}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% \convertDate converts D:20080419103507+02'00' to 2008-04-19T10:35:07+02:00
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\def\convertDate{%
    \getYear
}

{\catcode`\D=12
 \gdef\getYear D:#1#2#3#4{\edef\xYear{#1#2#3#4}\getMonth}
}
\def\getMonth#1#2{\edef\xMonth{#1#2}\getDay}
\def\getDay#1#2{\edef\xDay{#1#2}\getHour}
\def\getHour#1#2{\edef\xHour{#1#2}\getMin}
\def\getMin#1#2{\edef\xMin{#1#2}\getSec}
\def\getSec#1#2{\edef\xSec{#1#2}\getTZh}
\def\getTZh +#1#2{\edef\xTZh{#1#2}\getTZm}
\def\getTZm '#1#2'{%
    \edef\xTZm{#1#2}%
    \edef\convDate{\xYear-\xMonth-\xDay T\xHour:\xMin:\xSec+\xTZh:\xTZm}%
}

\expandafter\convertDate\pdfcreationdate 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% get pdftex version string
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newcount\countA
\countA=\pdftexversion
\advance \countA by -100
\def\pdftexVersionStr{pdfTeX-1.\the\countA.\pdftexrevision}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% XMP data
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
\usepackage{xmpincl}
\includexmp{pdfa-1b}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% pdfInfo
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
\pdfinfo{%
    /Title    (\ttitle)
    /Author   (\tauthor, lu3748@student.uni-lj.si)
    /Subject  (\ttitleEn)
    /Keywords (\tkeywordsEn)
    /ModDate  (\pdfcreationdate)
    /Trapped  /False
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\let\ab\allowbreak

\begin{document}
\selectlanguage{slovene}
\frontmatter
\setcounter{page}{1} %
\renewcommand{\thepage}{}       % preprecimo težave s številkami strani v kazalu
\newcommand{\sn}[1]{"`#1"'}                    % dodal Solina (slovenski narekovaji)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%naslovnica
 \thispagestyle{empty}%
   \begin{center}
    {\large\sc Univerza v Ljubljani\\%
%      Fakulteta za elektrotehniko\\% za študijski program Multimedija
%      Fakulteta za upravo\\% za študijski program Upravna informatika
      Fakulteta za računalništvo in informatiko\\%
      Fakulteta za matematiko in fiziko\\% za študijski program Računalništvo in matematika
     }
    \vskip 10em%
    {\autfont \tauthor\par}%
    {\titfont \ttitle \par}%
    {\vskip 3em \textsc{DIPLOMSKO DELO\\[5mm]         % dodal Solina za ostale študijske programe
%    VISOKOŠOLSKI STROKOVNI ŠTUDIJSKI PROGRAM\\ PRVE STOPNJE\\ RAČUNALNIŠTVO IN INFORMATIKA}\par}%
%    UNIVERZITETNI  ŠTUDIJSKI PROGRAM\\ PRVE STOPNJE\\ RAČUNALNIŠTVO IN INFORMATIKA}\par}%
%    INTERDISCIPLINARNI UNIVERZITETNI\\ ŠTUDIJSKI PROGRAM PRVE STOPNJE\\ MULTIMEDIJA}\par}%
%    INTERDISCIPLINARNI UNIVERZITETNI\\ ŠTUDIJSKI PROGRAM PRVE STOPNJE\\ UPRAVNA INFORMATIKA}\par}%
    INTERDISCIPLINARNI UNIVERZITETNI\\ ŠTUDIJSKI PROGRAM PRVE STOPNJE\\ RAČUNALNIŠTVO IN MATEMATIKA}\par}%
    \vfill\null%
% izberite pravi habilitacijski naziv mentorja!
    {\large \textsc{Mentor}: izr. prof. dr. Polona Oblak\par}%
%    {\large \textsc{Somentor}:  viš. pred./doc./izr. prof./prof. dr.  Martin Krpan \par}%
    {\vskip 2em \large Ljubljana, 2023 \par}%
\end{center}
% prazna stran
%\clearemptydoublepage      % dodal Solina (izjava o licencah itd. se izpiše na hrbtni strani naslovnice)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%copyright stran
\thispagestyle{empty}
\vspace*{8cm}

\noindent
{\sc Copyright}. 
Rezultati diplomske naloge so intelektualna lastnina avtorja in matične fakultete Univerze v Ljubljani.
Za objavo in koriščenje rezultatov diplomske naloge je potrebno pisno privoljenje avtorja, fakultete ter mentorja.

\begin{center}
\mbox{}\vfill
\emph{Besedilo je oblikovano z urejevalnikom besedil \LaTeX.}
\end{center}
% prazna stran
\clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% stran 3 med uvodnimi listi
\thispagestyle{empty}
\
\vfill

\bigskip
\noindent\textbf{Kandidat:} Luka Uranič\\
\noindent\textbf{Naslov:} \ttitle\\
% vstavite ustrezen naziv študijskega programa!
\noindent\textbf{Vrsta naloge:} Diplomska naloga na univerzitetnem programu prve stopnje Računalništvo in matematika \\
% izberite pravi habilitacijski naziv mentorja!
\noindent\textbf{Mentor:}  izr. prof. dr. Polona Oblak\\
% \noindent\textbf{Somentor:} isto kot za mentorja

\bigskip
\noindent\textbf{Opis:}\\
Besedilo teme diplomskega dela študent prepiše iz študijskega informacijskega sistema, kamor ga je vnesel mentor. 
V nekaj stavkih bo opisal, kaj pričakuje od kandidatovega diplomskega dela. 
Kaj so cilji, kakšne metode naj uporabi, morda bo zapisal tudi ključno literaturo.

\bigskip
\noindent\textbf{Title:} \ttitleEn

\bigskip
\noindent\textbf{Description:}\\
opis diplome v angleščini

\vfill



\vspace{2cm}

% prazna stran
\clearemptydoublepage

% zahvala
\thispagestyle{empty}\mbox{}\vfill\null\it%
\noindent
Zahvaljujem se mentorici izr. prof. dr. Poloni Oblak za pomoč in usmeritvi pri izdelavi diplomskega dela.\\
\rm\normalfont

% prazna stran
\clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% posvetilo, če sama zahvala ne zadošča :-)
% \thispagestyle{empty}\mbox{}{\vskip0.20\textheight}\mbox{}\hfill\begin{minipage}{0.55\textwidth}%
% Svoji dragi Alenčici.
% \normalfont\end{minipage}

% % prazna stran
% \clearemptydoublepage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% kazalo
\pagestyle{empty}
\def\thepage{}% preprecimo tezave s stevilkami strani v kazalu
\tableofcontents{}


% prazna stran
\clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% seznam kratic

% \chapter*{Seznam uporabljenih kratic}  % spremenil Solina, da predolge vrstice ne gredo preko desnega roba

% \begin{comment}
% \begin{tabular}{l|l|l}
%   {\bf kratica} & {\bf angleško} & {\bf slovensko} \\ \hline
%   % after \\: \hline or \cline{col1-col2} \cline{col3-col4} ...
%   {\bf CA} & classification accuracy & klasifikacijska točnost \\
%   {\bf DBMS} & database management system & sistem za upravljanje podatkovnih baz \\
%   {\bf SVM} & support vector machine & metoda podpornih vektorjev \\
%   \dots & \dots & \dots \\
% \end{tabular}
% \end{comment}

% \noindent\begin{tabular}{p{0.1\textwidth}|p{.4\textwidth}|p{.4\textwidth}}    % po potrebi razširi prvo kolono tabele na račun drugih dveh!
%   {\bf kratica} & {\bf angleško}                             & {\bf slovensko} \\ \hline
%   {\bf CA}      & classification accuracy               & klasifikacijska točnost \\
%   {\bf DBMS} & database management system & sistem za upravljanje podatkovnih baz \\
%   {\bf SVM}   & support vector machine              & metoda podpornih vektorjev \\
% %  \dots & \dots & \dots \\
% \end{tabular}


% % prazna stran
% \clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% povzetek
\addcontentsline{toc}{chapter}{Povzetek}
\chapter*{Povzetek}

\noindent\textbf{Naslov:} \ttitle
\bigskip

\noindent\textbf{Avtor:} \tauthor
\bigskip

%\noindent\textbf{Povzetek:} 
\noindent V diplomski nalogi si najprej ogledamo inverzije permutacij, njihove lastnosti, rodovno funkcijo za število permutacij množice $[n]$ z $i$ inverzijami in Bruhatovi delni urejenosti.
Nato pokažemo kako permutacije predstavimo s permutacijskimi grafi, karakteriziramo permutacijske grafe s pomočjo kohezivnega zaporedja vozlišč, pokažemo, da so gosenice edina drevesa, ki so permutacijski grafi ter pokažemo, da za $n \geq 3$ obstajata natanko dve permutaciji, ki generirata permutacijski graf izomorfen neki gosenici na $n$ vozliščih. Potem si ogledamo kaj so tekmovalnostni grafi, množice tekmovalcev, množice posrednih in neposrednih tekmovalcev ter algoritem, ki ne potebuje konstrukcije tekmovalnostega grafa, za izračun množice posrednih in neposrednih tekmovalcev. Na koncu uporabimo algoritem na primeru z resničnimi podatki.

% \noindent V vzorcu je predstavljen postopek priprave diplomskega dela z uporabo okolja \LaTeX. Vaš povzetek mora sicer vsebovati približno 100 besed, ta tukaj je odločno prekratek.
% Dober povzetek vključuje: (1) kratek opis obravnavanega problema, (2) kratek opis vašega pristopa za reševanje tega problema in (3) (najbolj uspešen) rezultat ali prispevek magistrske naloge.

\bigskip

\noindent\textbf{Ključne besede:} \tkeywords.
% prazna stran
\clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% abstract
\selectlanguage{english}
\addcontentsline{toc}{chapter}{Abstract}
\chapter*{Abstract}

\noindent\textbf{Title:} \ttitleEn
\bigskip

\noindent\textbf{Author:} \tauthor
\bigskip

%\noindent\textbf{Abstract:} 
\noindent This sample document presents an approach to typesetting your BSc thesis using \LaTeX. 
A proper abstract should contain around 100 words which makes this one way too short.
\bigskip

\noindent\textbf{Keywords:} \tkeywordsEn.
\selectlanguage{slovene}
% prazna stran
\clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter
\setcounter{page}{1}
\pagestyle{fancy}

\chapter {Uvod}

Inverzija permutacije je par elementov, ki sta v obratnem vrstem redu kot v permutaciji $(1, 2,..., n)$. Število inverzij nam meri stopnjo neurejenosti oziroma oddaljenost permutacije od urejenega zaporedja. Permutacijski graf je graf z vozlišči $\{ 1, 2, ..., n \}$, kjer je $xy$ povezava natanko tedaj, ko je par elementov $(x, y)$ ali $(y, x)$ inverzija permutacije. 

Leta 2012 so Gervacio, Rapanut in Ramos ~\cite{charectarizationPermutationGraphs} karakterizirali permutacijske grafe s pomočjo kohezivnega zaporedja vozlišč. Poleg tega so pokazali, da so gosenice edina drevesa, ki so permutacijski grafi ter kako lahko na enostaven način konstruiramo permutacijske grafe. Leta 2023 sta Brualdi in Dahl ~\cite{weakBruhatOrder} pokazala, da obstajata natanko dve permutaciji iz $S_n$, katerih permutacijski graf je izomorfen neki gosenici na $n$ vozliščih ($n \geq 3$). Poleg tega pokažeta tudi kako so permutacije delno urejene v šibki Bruhatovi delni urejenosti. Definicija Bruhatove delne urejenosti na permutacijah je podana v članku ~\cite{bruhatOrder}. V ~\cite{generatingFunction} Margolius prikaže kako pridemo do rodovne funkcije za število permutacij dolžine $n$ z $i$ inverzijami.

Tekmovalnostni graf je generiran z množico permutacij oziroma rangiranj $R$. Vozlišča tekmovalnostnega grafa so $\{ 1, 2, ..., n \}$, kjer je $xy$ povezava natanko tedaj, ko je par elementov $(x, y)$ v dveh permutacijah iz $R$ v različnem vrstnem redu. Vsak permutacijski graf je tudi tekmovalnostni.

Leta 2015 so Criado, García, Pedroche in Romance v ~\cite{setsOfRankings} predstavijo in analizirajo nekaj pomembnih množic vozlišč tekmovalnostnega grafa. Na primer množica tekmovalcev je množica vozlišč, kjer vsako vozlišče iz množice tekmuje z vsemi ostalimi vozlišči iz množice in množica posrednih in neposrednih tekmovalcev je množica vozlišč, kjer vsako vozlišče iz množice posredno ali neposredno tekmuje z vsemi vozlišči iz množice preko neke poti v grafu, kjer med seboj tekmujeta vsaki sosednji vozlišči na poti. Poleg tega predstavijo algoritem, ki ne potrebuje konstrukcije tekmovalnostnega grafa, za izračun množic posrednih in neposrednih tekmovalcev.

Ostale informacije o permutacijah, inverzijah, permutacijskih grafih in faktorskem številskem sistemu so bile pridobiljene iz ~\cite{permutation}, ~\cite{inversion}, ~\cite{permutationGraph}, ~\cite{permutationGroup} in ~\cite{factorialNumberSystem}.

% Našteti viri, da se pokažejo v literaturi:
%  Karakterizacija in konstrukcija permutacijskih grafov~\cite{charectarizationPermutationGraphs}, Permutacijski grafi in šibka Bruhatova urejenost~\cite{weakBruhatOrder}, O Bruhatovi urejenosti in njeni ljuplivost~\cite{bruhatOrder}, O grafih povezanih z množicami rangiranj~\cite{setsOfRankings}, rodovna funkcija~\cite{generatingFunction}. Na spletnih straneh ~\cite{permutation}~\cite{inversion}~\cite{permutationGraph}~\cite{permutationGroup}~\cite{factorialNumberSystem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{ Notacija, oznake in definicije }
Množico naravnih števil od 1 do n označimo z $[n] = \{ 1, 2,..., n\}$. $S_n$ je množica vseh permutacij na množici $[n]$. Permutacija $id \in S_n$ je podana s predpisom $id(a) = a$ za vsak $a \in [n]$.

Graf $G = (V(G), E(G))$ ima množico vozlišč $V(G)$ in množico povezav $E(G)$. Premer grafa je najdaljša pot med dvema vozliščema. Disjunktna unija grafov je združitev dveh grafov v večji graf tako, da naredimo disjunktno unijo množic vozlišč in povezav. Komplement grafa $G$ označimo z $\overline{G}$ (nepovezave grafa $G$ so povezave grafa $\overline{G}$). $K_n$ je poln graf na $n$ vozliščih, $\overline{K_n}$ je nepovezan graf na $n$ vozliščih, $P_n$ je pot na $n$ vozliščih, $K_{n, k}$ je dvodelen graf z $n$ vozlišči v eni in $k$ vozlišči v drugi množici. Določiti smer povezave $uv$ grafa $G$ pomeni spremeniti $uv$ v urejen par $(u, v)$ ali $(v, u)$. Orientacija grafa $G$ je usmerjen graf pridobljen tako, da vsaki povezavi grafa $G$ določimo smer.

Relacija $R$ na neprazni množici $A$ je množica urejenih parov elementov iz $A$, to pomeni $R\subseteq A\times A, A\neq\emptyset$. $(x, y) \in R$ preberemo kot $x$ je v relaciji $R$ z $y$, kar označimo z $xRy$. Relacija $R$ je:
\begin{itemize}
    \item refleksivna, če $xRx$ za vsak $x\in A$,
    \item irefleksivna, če $\neg xRx$ za vsak $x\in A$,
    \item simetrična, če iz $xRy$ sledi, da $yRx$ za vsaka $x,y\in A$,
    \item asimetrična, če iz $xRy$ sledi, da $\neg yRx$ za vsaka $x,y\in A$,
    \item antisimetrična, če iz xRy sledi, da $x = y$ ali $\neg yRx$ za vsaka $x,y\in A$,
    \item tranzitivna, če iz $xRy$ in $yRz$ sledi, da $xRz$ za vsake $x,y,z\in A$,
    \item sovisna, če iz $x \neq y$ sledi, da $xRy$ ali $yRx$ za vsaka $x,y\in A$,
    \item strogosovisna, če $xRy$ ali $yRx$ za vsaka $x,y\in A$.
\end{itemize}
Za relacijo $R$ rečemo, da je:
\begin{itemize}
    \item delna urejenost, če je $R$ refleksivna, antisimetrična in tranzitivna,
    \item linearna urejenost, če je $R$ antisimetrična, strogosovisna, transitivna,
    \item stroga delna urejenost, če je $R$ asimetrična in tranzitivna (irefleksivna),
    \item stroga linearna urejenost, če je $R$ asimetrična, sovisna in transitivna.
\end{itemize}
Če je $R$ linearna urejenost, potem je delna urejenost. Če je $R$ stroga linearna urejenost, potem je stroga delna urejenost.


\begin{definicija}[definicija grupe]
    Naj bo A množica in $\cdot$ operacija, ki vsakemu urejenemu paru elementov iz A priredi natančno določen element iz množice A:
    \[
        \cdot:A \times A \rightarrow A 
    \]
    Par $(A, \cdot)$ je grupa če veljajo naslednje trditve:
    \begin{enumerate}
        \item Za vsake $a, b, c \in A$ velja $(a \cdot b) \cdot c = a \cdot (b \cdot c)$ (asociativnost)
        \item Obstaja tak element $e \in A$, da za vsak $a \in A$ velja $a \cdot e = e \cdot a = a$ (obstoj enote)
        \item Za vsak $a \in A$ obstaja tak element $a^{-1} \in A$, da velja $a \cdot a^{-1} = a^{-1} \cdot a = e$ (obstoj inverza)
        
    \end{enumerate}
\end{definicija}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{ Permutacije }

Permutacije so razporeditve elementov neke množice v določenem vrstnem redu. Pomembne so v matematiki, računalništvu in na številnih drugih področjih. V tem poglavju bomo definirali permutacije, pogledali kako jih lahko predstavimo in pokazali, da so permutacije množice $[n]$ skupaj s kompozitumom grupa.

\begin{definicija}
Bijektivni preslikavi $\pi: [n] \rightarrow [n]$ rečemo permutacija (slika \ref{bijektivna_preslikava_n_n}).
\end{definicija}
\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black!0,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\y in {1/1, 2/2, 3/3, 4/4, 5/5}
                \node[vertex] (V-\num) at (0,5-\y) {$\num$};
            \foreach \num/\y in {1/1, 2/2, 3/3, 4/4, 5/5}
                \node[vertex] (VV-\num) at (5, 5-\y) {$\num$};
        
            \foreach \from/\to in {1/3, 2/2, 3/5, 4/1, 5/4}
                \draw[-latex] (V-\from) -- (VV-\to);
        \end{tikzpicture}     
    \end{center}
    \caption{Bijektivna preslikava $[5] \rightarrow [5]$.}
    \label{bijektivna_preslikava_n_n}
\end{figure}

\section{ Zapis permutacij }
Permutacijo lahko zapišemo na različne načine. 
Zapis permutacije $\pi$ kot vodoravna tabela:
\[
    \pi = \begin{pmatrix}
        1 & 2 & \cdot\cdot\cdot & n \\
        \pi(1) & \pi(2) & \cdot\cdot\cdot & \pi(n)
    \end{pmatrix}.
\]
Ker gledamo permutacije na množici $[n]$, ki ima naravno urejenost, lahko zgornjo vrstico izpustimo:
\[
    \pi = (\pi(1), \pi(2), \cdot\cdot\cdot, \pi(n)) = (\pi_1, \pi_2, \cdot\cdot\cdot, \pi_n).
\]
Temu zapisu bomo rekli enovrstični zapis permutacije.
Permutacijo lahko zapišemo tudi kot produkt disjunktnih ciklov:
\[
    \pi = (a_1 a_2 \cdot\cdot\cdot a_i)(b_1 b_2 \cdot\cdot\cdot b_j) \cdot\cdot\cdot (c_1 c_2 \cdot\cdot\cdot c_k).
\]
Ta zapis nam pove, da je:
\begin{align*}
    \pi(a_1) &= a_2, & \pi(a_2) &= a_3, & \cdot&\cdot\cdot & \pi(a_{i-1}) &= a_i, & \pi(a_i) &= a_1 \\
    \pi(b_1) &= b_2, & \pi(b_2) &= b_3, & \cdot&\cdot\cdot & \pi(b_{j-1}) &= b_j, & \pi(b_j) &= b_1 \\
    &&&& \cdot&\cdot\cdot \\
    \pi(c_1) &= c_2, & \pi(c_2) &= c_3, & \cdot&\cdot\cdot & \pi(c_{k-1}) &= c_k, & \pi(c_k) &= c_1.
\end{align*}

\begin{primer}
    Naj bo $\pi \in S_5$, $\pi(1) = 3$, $\pi(2) = 5$, $\pi(3) = 1$, $\pi(4) = 4$ in $\pi(5) = 2$. Zapis permutacije $\pi$ kot vodoravna tabela:
    \[
        \pi = \begin{pmatrix}
            1 & 2 & 3 & 4 & 5 \\
            3 & 5 & 1 & 4 & 2
        \end{pmatrix}
    \]
    \[
        \pi = (3, 5, 1, 4, 2) = (3 5 1 4 2) = 35142
    \]
    Če so vsi elementi permutacije manjši od 10 lahko med številkami izpustimo vejice. Pri tem moramo vedeti, da to ni zapis permutacije z disjunktnimi cikli.
    Včasih izpustimo tudi oklepaje.
    Zapis permutacije $\pi$ kot produkt disjunktnih ciklov:
    \[
        \pi = (1 3)(2 5)(4) = (1 3)(2 5)
    \]
    Če vemo koliko elementov ima permutacija, lahko cikle dolžine ena izpustimo. Zapis permutacije $\pi$ kot produkt disjunktnih ciklov ni enoličen, saj lahko na začetek vsakega cikla postavimo poljuben element iz tega cikla.
    \[
        \pi = (3 1)(5 2)
    \]
\end{primer}

V nadaljevanju bomo za zapis permutacije uporabljali enovrstični zapis razen, kjer bo navedeno drugače.

\section{Simetrična in permutacijska grupa}

\begin{trditev}
    Naj bo $\circ$ kompozitum permutacij. $(S_n, \circ)$ je grupa.
\end{trditev}
\begin{dokaz}
    \begin{enumerate}
        \item Asociativnost: Naj bodo $\pi, \sigma, \tau \in S_n$. Za vsak $i \in [n]$ 
        \[
            ((\pi \circ \sigma) \circ \tau)(i) = (\pi \circ \sigma)(\tau(i)) = \pi(\sigma(\tau(i)))
        \]
        \[
            (\pi \circ (\sigma \circ \tau))(i) = \pi((\sigma \circ \tau)(i)) = \pi(\sigma(\tau(i))) 
        \]
        \item Enota: Za vsaka $\pi \in S_n$ in $i \in [n]$ velja:
        \[
            (\pi \circ id)(i) = \pi(id(i)) = \pi(i)
        \]
        \[
            (id \circ \pi)(i) = id(\pi(i)) = \pi(i)
        \]
        \item Inverz: Naj bo $\pi \in S_n$. Ker je $\pi$ bijekcija, obstaja $\pi^{-1} \in S_n$.
        \[
            \pi \circ \pi^{-1} = \pi^{-1} \circ \pi = id
        \]
    \end{enumerate}
\end{dokaz}

Grupi $(S_n, \circ)$ rečemo simetrična grupa. Permutacijska grupa je podgrupa simetrične grupe. Po Cayleyevem izreku je vsaka grupa izomorfna neki permutacijski grupi.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{ Inverzije }

Inverzija permutacije je par elementov, ki sta v obratnem vrstem redu kot v permutaciji $(1, 2,..., n)$. Število inverzij nam meri stopnjo neurejenosti oziroma oddaljenost permutacije od urejenega zaporedja. V tem poglavju bomo definirali inverzije, pogledali kako sta definirani Bruhatovi delni urejenosti, pokazali kako pridemo do rodovne funkcije za število permutacij množice $[n]$ z $i$ inverzijami in si ogledali kako lahko uredimo množico $S_n$ in tako permutacije identificiramo s celimi števili.


\begin{definicija}
    Inverzija permutacije $\sigma = (a_1, a_2,... a_n) \in S_n$ je urejen par $(a_i, a_j)$, kjer je $i < j$ $(\sigma^{-1}(a_i) < \sigma^{-1}(a_j))$ in $a_i > a_j$. Množico vseh inverzij permutacije $\sigma$ označimo z $I_{\sigma}$.
\end{definicija}

\begin{figure}[h]
    \begin{center}
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black!0,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\y in {1/1, 2/2, 3/3, 4/4}
                \node[vertex] (V-\num) at (0,4-\y) {$\num$};
            \foreach \num/\y in {1/1, 2/2, 3/3, 4/4}
                \node[vertex] (VV-\num) at (4, 4-\y) {$\num$};
        
            \foreach \from/\to in {1/4, 2/2, 3/1, 4/3}
                \draw[latex-latex] (V-\from) -- (VV-\to);

            \draw[-latex] (V-1) .. controls (1, 3.75) and (3, 3.75) .. (VV-1) node[midway, above]{$\sigma$};
            \draw[latex-] (V-4) .. controls (1, -0.5) and (3, -0.5) .. (VV-4) node[midway, above]{$\sigma^{-1}$};

        \end{tikzpicture}
    \end{center}
    \caption{Permutacija $\sigma = (4, 2, 1, 3)$ in njen inverz $\sigma^{-1} = (3, 2, 4, 1)$.}
    \label{permutacija_4213}
\end{figure}

Število inverzij permutacije $\sigma$ je enako številu inverzij permutacije $\sigma^{-1}$. Še več, če ima $\sigma$ inverzije $(a_{i_1}, a_{j_1}), ...., (a_{i_k}, a_{j_k})$, potem ima $\sigma^{-1}$ inverzije $(j_1, i_1), ...., (j_k, i_k)$.

\begin{primer}
    Naj bo $\sigma = (4, 2, 1, 3)$ kot na sliki \ref{permutacija_4213}. Inverzije permutacije $\sigma$ so $(4, 2), (4, 1), (4, 3), (2, 1)$. Pozicije inverzij permutacije $\sigma$ so sledeči pari: $(1, 2), (1, 3), (1, 4), (2, 3)$. Inverz permutacije $\sigma$ je $\sigma^{-1} = (3, 2, 4, 1)$, inverzije permutacije $\sigma^{-1}$ so $(3, 2), \ab (3, 1), (2, 1), (4, 1)$. Opazimo, da so to ravno obrnjeni pari pozicij inverzij permutacije $\sigma$.
\end{primer}

Urejena permutacija $(1, 2, ..., n)$ nima inverzij. Največ inverzij ima permutacija $(n, n-1, ..., 1)$. V tem primeru je vsak par različnih števil v inverziji. Izborov dveh elementov izmed $n$ pa je ravno $\binom{n}{2}$.

Število inverzij je enako številu presečišč v puščičnem diagramu permutacije (slika \ref{permutacija_4213}).

Standardne primerjalne algoritme razvrščanja, kot je na primer merge sort, lahko prilagodimo tako, da izračunamo število inverzij neke permutacije v času $O(n \cdot log(n))$.

\section{ Bruhatovi delni urejenosti }

\begin{definicija}    
    (Močna) Bruhatova  delna urejenost na množici $S_n$ je tranzitivno refleksivna ovojnica relacije $\preceq_{B}$, ki jo definiramo kot $\sigma \preceq_{B} (ij) \cdot \sigma$, če je $|I_{(ij) \cdot \sigma}| = |I_{\sigma}| + 1$, kjer je $(ij)$ zapis transpozicije elementov na pozicijah $i$ in $j$ (slika \ref{bruhatova_urejenost_S4}).
\end{definicija}

\begin{definicija}
Naj bosta $\sigma, \pi \in S_n$. Permutacija $\sigma$ je manjša ali enaka od permutacije $\pi$ v šibki Bruhatovi delni urejenosti, kar označimo z $\sigma \preceq_b \pi$, če je $I_{\sigma} \subseteq I_{\pi}$ (slika \ref{sibka_bruhatova_urejenost_S4}). Sledi, da lahko $\sigma$ pridobimo iz $\pi$ z zaporedjem transpozicij sosenih elementov, pri čemer vsaka transpozicija zmanjša število inverzij za ena.
\end{definicija}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black!0,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {1234/5}
                \node[vertex] (V-\num) at (\x, 0) {$\num$};
            \foreach \num/\x in {1243/3, 1324/5, 2134/7}
                \node[vertex] (V-\num) at (\x, 2) {$\num$};                
            \foreach \num/\x in {1423/1, 1342/3, 2143/5, 3124/7, 2314/9}
                \node[vertex] (V-\num) at (\x, 4) {$\num$};
            \foreach \num/\x in {1432/0, 4123/2, 2413/4, 3142/6, 3214/8, 2341/10}
                \node[vertex] (V-\num) at (\x, 6) {$\num$};                
            \foreach \num/\x in {4132/1, 4213/3, 3412/5, 2431/7, 3241/9}
                \node[vertex] (V-\num) at (\x, 8) {$\num$};            
            \foreach \num/\x in {4312/3, 4231/5, 3421/7}
                \node[vertex] (V-\num) at (\x, 10) {$\num$};
            \foreach \num/\x in {4321/5}
                \node[vertex] (V-\num) at (\x, 12) {$\num$};

            \foreach \from/\to in {1234/1243, 1234/1324, 1234/2134, 1243/1423, 1243/2143, 1324/1342, 1324/3124, 2134/2143, 2134/2314, 1423/1432, 1423/4123, 1342/1432, 1342/3142, 2143/2413, 3124/3142, 3124/3214, 2314/3214, 2314/2341, 1432/4132, 4123/4132, 4123/4213, 2413/4213, 2413/2431, 3142/3412, 3214/3241, 2341/2431, 2341/3241, 4132/4312, 4213/4231, 3412/4312, 3412/3421, 2431/4231, 3241/3421, 4312/4321, 4231/4321, 3421/4321, 1243/1342, 1324/1423, 1324/2314, 2134/3124, 1423/2413, 1342/2341, 2143/4123, 2143/3142, 2143/2341, 3124/4123, 2314/2413, 1432/3412, 1432/2431, 2413/3412, 3142/4132, 3142/3241, 3214/4132, 3214/3412, 4132/4231, 4213/4312, 2431/3421, 3241/4231}
                \draw (V-\from) -- (V-\to);
        \end{tikzpicture}     
    \end{center}
    \caption{Hessejev diagram Bruhatove delne urejenosti množice $S_4$.}
    \label{bruhatova_urejenost_S4}
\end{figure}

Naslednja lema nam pove kaj se zgodi z množicami inverzij $I_{\pi}$ in $I_{\sigma}$ permutacij $\pi$ in $\sigma$, kjer eno pridobimo iz druge s poljubno transpozicijo.

\begin{lema}
    Naj bo $1 \leq k < l \leq n$, $\pi = (i_1, ..., i_{k-1}, i_k, ..., i_l, i_{l+1}, ..., i_n)$, kjer je $i_k > i_l$, in $\sigma = (i_1, ..., i_{k-1}, i_l, ..., i_k, i_{l+1}, ..., i_n)$, pridobljena iz $\pi$ s transpozicijo elementov $i_k$ in $i_l$. Poglejmo si particijo množice $L = \{ k, k+ 1, ...., l\}$ v množice $L_1, L_2, L_3$ in $\{ k, l \}$, kjer so:
    \[
        L_1 = \{ s \in L: i_s > i_k \}, L_2 = \{ s \in L: i_k > i_s > i_l \}, L_3 = \{ s \in L: i_s < i_l \}.
    \]
    Množici inverzij $I_{\pi}, I_{\sigma}$ permutacij $\pi, \sigma$ imata razliki:
    \begin{align}
        I_{\pi} \setminus I_{\sigma} &= \{ (i_k, i_l) \} \cup \{ (i_k, i_s): s \in L_2 \cup L_3 \} \cup \{ (i_s, i_l): s \in L_1 \cup L_2 \}, \notag \\
        I_{\sigma} \setminus I_{\pi} &= \{ (i_l, i_s): s \in L_3 \} \cup \{ (i_s, i_k): s \in L_1 \}. \notag
    \end{align}
    Vidimo, da je $\sigma \preceq_b \pi$ ($I_{\sigma} \subseteq I_{\pi}$) natanko tedaj, ko za vsak $s$, kjer je $k < s < l$, velja $i_k > i_s > i_l$ ($I_{\sigma} \setminus I_{\pi} = \emptyset$). Zato je $\sigma \preceq_b \pi$ natanko tedaj, ko lahko pridobimo $\sigma$ iz $\pi$ z zaporedjem transpozicij sosednjih elementov, ki zmanjšajo število inverzij za ena.
\end{lema}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black!0,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {1234/5}
                \node[vertex] (V-\num) at (\x, 0) {$\num$};
            \foreach \num/\x in {1243/3, 1324/5, 2134/7}
                \node[vertex] (V-\num) at (\x, 2) {$\num$};                
            \foreach \num/\x in {1423/1, 1342/3, 2143/5, 3124/7, 2314/9}
                \node[vertex] (V-\num) at (\x, 4) {$\num$};
            \foreach \num/\x in {1432/0, 4123/2, 2413/4, 3142/6, 3214/8, 2341/10}
                \node[vertex] (V-\num) at (\x, 6) {$\num$};                
            \foreach \num/\x in {4132/1, 4213/3, 3412/5, 2431/7, 3241/9}
                \node[vertex] (V-\num) at (\x, 8) {$\num$};            
            \foreach \num/\x in {4312/3, 4231/5, 3421/7}
                \node[vertex] (V-\num) at (\x, 10) {$\num$};
            \foreach \num/\x in {4321/5}
                \node[vertex] (V-\num) at (\x, 12) {$\num$};

            \foreach \from/\to in {1234/1243, 1234/1324, 1234/2134, 1243/1423, 1243/2143, 1324/1342, 1324/3124, 2134/2143, 2134/2314, 1423/1432, 1423/4123, 1342/1432, 1342/3142, 2143/2413, 3124/3142, 3124/3214, 2314/3214, 2314/2341, 1432/4132, 4123/4132, 4123/4213, 2413/4213, 2413/2431, 3142/3412, 3214/3241, 2341/2431, 2341/3241, 4132/4312, 4213/4231, 3412/4312, 3412/3421, 2431/4231, 3241/3421, 4312/4321, 4231/4321, 3421/4321}
                \draw (V-\from) -- (V-\to);
        \end{tikzpicture}     
    \end{center}
    \caption{Hessejev diagram šibke Bruhatove delne urejenosti množice $S_4$.}
    \label{sibka_bruhatova_urejenost_S4}
\end{figure}

\begin{opomba}
    Če je $\sigma \preceq_b \pi$, potem $I_{\pi} \setminus I_{\sigma}$ ni vedno množica inverzij neke permutacije. Drži pa, da z ustreznim preimenovanjem elementov dobimo množico inverzij neke permutacije (glej primer \ref{primer_preimenovanje_elementov_mnozice_inverzij}). V splošnem, če je $\sigma \preceq_b \pi$, potem lahko $I_{\pi} \setminus I_{\sigma}$ vedno identificiramo z množico inverzij neke permutacije v smislu, da je vsak interval $[\sigma, \pi]$ v Hessejevem diagramu, kjer je $\pi = \tau \circ \sigma$, v šibki Bruhatovi urejenosti izomorfen nekemu nižjemu intervalu oblike $[id, \tau]$, kjer je $\tau = \tau \circ id$. To je res, saj je $\tau$ po definiciji šibke Bruhatove urejenosti takšna, da doda nekaj novih inverzij, vendar ohrani vse inverzije permutacije $\sigma$. Zato če $\tau$ uporabimo na $id$ prav tako pridobimo enako število inverzij, ki so med seboj v enakih razmerjih, kot novo pridobljene inverzije permutacije $\pi$.
\end{opomba}

\begin{primer}
    Naj bo $\pi = (4, 2, 1, 3)$ in $\sigma = (2, 1, 3, 4)$. Potem sta:
    \[I_{\pi} = \{ (4, 2), (4, 1), (4, 3), (2, 1) \}, I_{\sigma} = \{ (2, 1) \}\]
    in zato $\sigma \preceq_b \pi$. Permutacijo $\sigma$ pridobimo iz $\pi$ z zaporedjem treh transpozicij:
    \[
        (4, 2, 1, 3) \overset{(12)}{\rightarrow} (2, 4, 1, 3) \overset{(23)}{\rightarrow} (2, 1, 4, 3) \overset{(34)}{\rightarrow} (2, 1, 3, 4).
    \]
    Opazimo, da je množica:
    \[
        I_{\pi} \setminus I_{\sigma} = \{ (4, 3), (4, 2), (4, 1) \}
    \]
    ravno množica inverzij $I_{\tau}$ za permutacijo $\tau = (4, 1, 2, 3)$.
\end{primer}
    

\begin{primer}
\label{primer_preimenovanje_elementov_mnozice_inverzij}
    Naj bo $\pi = (3, 1, 4, 2)$ in $\sigma = (1, 3, 2, 4)$. Potem sta:
    \[I_{\pi} = \{ (3, 1), (3, 2), (4, 2) \}, I_{\sigma} = \{ (3, 2) \}\]
    in zato $\sigma \preceq_b \pi$. Opazimo, da množica:
    \[
        I_{\pi} \setminus I_{\sigma} = \{ (3, 1), (4, 2) \}
    \]
    ni množica inverzij $I_{\tau}$ za nobeno permutacijo $\tau$. Če bi bila, bi $4$ morala biti desno od $3$ in $1$ ter levo od $2$. Iz tega bi sledilo, da je $(3, 2)$ tudi inverzija. Ampak za preimenovanje:
    \[
        1 \rightarrow 1, \ 2 \rightarrow 3, \ 3 \rightarrow 2, \ 4 \rightarrow 4 
    \]
    dobimo množico inverzij $I_{\tau} = \{ (2, 1), (4, 3)\}$ permutacije $\tau = (2, 1, 4, 3)$.
\end{primer}

Kot poseben primer je $id \preceq_b \pi$, za vsak $\pi \in S_n$. Zato je urediti permutacijo (jo preoblikovati v identično permutacijo) s $k$ inverzijami vedno mogoče. To lahko storimo z zaporedjem $k$ transpozicij sosednjih elementov. Na vsakem koraku izberemo transpozicijo $i$ in $i+1$, če je element na poziciji $i+1$ manjši od elementa na poziciji $i$. Na ta način zmanjšamo število inverzij za $1$. To ponavljamo, dokler ne pridemo do identične permutacije.

\begin{primer}
    Postopek ureditve permutacije $\sigma = (4, 2, 1, 3)$, ki ima $4$ inverzije: 
    \[
        (4, 2, 1, 3) \overset{(12)}{\rightarrow} (2, 4, 1, 3) \overset{(23)}{\rightarrow} (2, 1, 4, 3) \overset{(34)}{\rightarrow} (2, 1, 3, 4) \overset{(12)}{\rightarrow} (1, 2, 3, 4).
    \]
\end{primer}

\section{ Rodovna funkcija }
Naj bo $f_n(x)$ rodovna funkcija s koeficienti $a_i$ pred $x^i$, ki štejejo število permutacij množice $[n]$ z $i$ inverzijami:
\[
    f_n(x) = \sum_{i=0}^{\binom{n}{2}} a_i x^i.
\]
Poglejmo si edino permutacijo dolžine ena $(1)$. Ta permutacija nima nobene inverzije, zato je rodovna funkcija $f_1(x) = 1$. Sedaj iz permutacije dolžine ena naredimo permutacijo dolžine dva tako, da vstavimo dvojko na prvo ali drugo mesto z enako verjetnostjo. Vidimo da, če jo vstavimo na prvo mesto, dobimo permutacijo $(2, 1)$, ki ima eno inverzijo. V drugem primeru pa dobimo permutacijo $(1, 2)$, ki nima inverzij. Tako dobimo rodovno funkcijo $f_2(x) = 1 + x = 1 \cdot (1 + x)$. Sedaj iz permutacije dolžine dva na podoben način naredimo permutacijo dolžine tri. Imamo dve različni permutaciji dolžine dve. Permutacija $(1, 2)$ je brez inverzij. Ko vstavimo trojko na poljubno mesto, tako ustvarimo permutacijo z dvema, eno ali nič inverzijami. Druga permutacija je $(2, 1)$ z eno inverzijo. Ko vstavimo trojko na poljubno mesto, tako ustvarimo permutacijo s tremi, dvema ali eno inverzijo. Tako dobimo rodovno funkcijo 
\[
    f_3(x) = 1 + 2x + 2x^2 + x^3 = 1 \cdot (1 + x + x^2) + x \cdot (1 + x + x^2) = 1 \cdot (1 + x) \cdot (1 + x + x^2).
\]
Vidimo da, ko v permutacijo dolžine $n-1$ vstavimo element $n$, lahko naredimo med $0$ in $n-1$ novih inverzij ($1 + x + \cdot\cdot\cdot + x^{n-1}$) odvisno od tega, kam vstavimo element $n$ (vse pozicije so enako verjetne). Prav tako vse inverzije, ki so bile del permutacije dolžine $n-1$, ostanejo. Tako iz $a_i$ permutacij dolžine $n-1$ z $i$ inverzijami dobimo $a_i$ permutacij dolžine $n$ z $i$ inverzijami (vstavimo $n$ na zadnje mesto), $a_i$ permutacij dolžine $n$ z $i+1$ inverzijami (vstavimo $n$ na predzadnje mesto), ..., $a_i$ permutacij dolžine $n$ z $i+n-1$ inverzijami (vstavimo $n$ na prvo mesto). Se pravi iz člena $a_i x^i$ v rodovni funkciji $f_{n-1}$ dobimo člene $a_i x^i \cdot (1 + x + \cdot\cdot\cdot + x^{n-1})$ v rodovni funkciji $f_n$.
Zato, ker to velja ne glede na to, koliko inverzij je imela permutacija dolžine $n-1$, velja rekurzivna zveza
\[
    f_n(x) = f_{n-1}(x) \cdot (1 + x + \cdot\cdot\cdot + x^{n-1}).
\]
In tako dobimo rodovno funkcijo
\[
    f_n(x) = \prod_{m=1}^{n}\sum_{i=0}^{m-1} x^i = 1 (1 + x) (1 + x + x^2) \cdot\cdot\cdot (1 + x + \cdot\cdot\cdot + x^{n-1}).
\]

\section{ Lehmerjeva koda in vektor inverzij}
Množico $S_n$ lahko uredimo na različne načine. Zato lahko vsaki permutaciji iz množice $S_n$ dodelimo celo število $N$, kjer je $0 \leq N \leq n!$. To je ravno njena zaporedna številka v neki ureditvi. Pretvorbo iz števila v permutacijo naredimo preko vmesne oblike zaporedja $n$ števil $d_n,d_{n-1},...,d_2,d_1$, kjer je $d_i$ nenegativno celo število manjše od $i$ (pri tem lahko izpustimo $d_1$, saj je $d_1 = 0$). Prvi korak je, da $N$ predstavimo v faktorskem številskem sistemu (angl. factorial number system). Ta sistem ima za števila manjša od $n!$ baze zaporednih števk $(n-1)!,(n-2)!,...,2!,1!$ (primer \ref{primer_faktorski_stevilski_sistem}). Drugi korak pa je interpretacija tega zaporedja kot vektor inverzij ali Lehmerjeva koda (interpretacija zaporedja za permutacije iz $S_4$ je prikazana v tabeli \ref{tbl:permutacije4vektorji}).

Število zapisano v faktorskem številskem sistemu pretvorimo v desetiški številski sistem tako, da seštejemo produkt vseh števk s pripadajočo bazo. Pretvorbo iz desetiškega v faktorski številski sistem pa naredimo tako, da število zaporedoma delimo s števili $1, 2, 3...$ in si zapisujemo ostanke pri deljenju, dokler ne dobimo $0$ kot rezultat deljenja. Zapis števila so ostanki pri deljenju od zadnjega deljenja proti prvemu. 

\begin{primer}
\label{primer_faktorski_stevilski_sistem}
Pretvorbi iz faktorskega v desetiški številski sistem in iz desetiškega v faktorski številski sistem: 
    \begin{align}
        341010_{!} = 3 \cdot 5! + 4 \cdot 4! + 1 \cdot 3&! + 0 \cdot 2! + 1 \cdot 1! + 0 \cdot 0! = 463_{10} \notag\\
        463 / 1 = 463,&\ ostanek = 0 \notag\\
        463 / 2 = 231,&\ ostanek = 1 \notag\\
        231 / 3 = 77,&\ ostanek = 0 \notag\\
        77 / 4 = 19,&\ ostanek = 1 \notag\\
        19 / 5 = 3,&\ ostanek = 4 \notag\\
        3 / 6 = 0,&\ ostanek = 3 \notag
    \end{align}
\end{primer}

V Lehmerjevi kodi permutacije $\sigma$ število $d_n$ predstavlja $\sigma_1 - 1 = \sigma(1) - 1$. To je število elementov manjših od $\sigma_1$, ki so v inverziji z $\sigma_1$. Število $d_{n-1}$ predstavlja število elementov, ki so manjši od $\sigma_2$ in so v inverziji z $\sigma_2$,... Se pravi, $d_{n-i+1}$ predstavlja število elementov, ki so manjši od $\sigma_i$ in so v inverziji z $\sigma_i$.

Vektor inverzij permutacije $\sigma$ je podoben zapis. $d_{n-j+1}$ nam pove, koliko je inverzij oblike $(i, j)$, kjer je $j$ manjša vrednost para števil v inverziji.

Obe kodiranji lahko prikažemo z Rothejevim diagramom, kjer pike predstavljajo elemente permutacije, križi pa inverzije permutacije. Lehmerjeva koda nam šteje število križev v vsaki vrstici, vektor inverzij pa nam šteje število križev v vsakem stolpcu. Poleg tega velja tudi, da je vektor inverzij ravno Lehmerjeva koda inverzne permutacije in Lehmerjeva koda je ravno vektor inverzij inverzne permutacije. Primer Rothejevega diagrama je prikazan v tabeli \ref{tbl:rothejev_diagram}.

\begin{table}
    \begin{center}
        \begin{tabular}{ |c|c|c|c|c|c|c|c|c|c|c| } 
        \hline
            $i \setminus \sigma_i$ & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & Lehmerjeva koda  \\ 
        \hline
            1 & $\times$ & $\times$ & $\times$ & $\times$ & $\times$ & $\cdot$ & & & & $d_9 = 5$  \\ 
        \hline
            2 & $\times$ & $\times$ & $\cdot$ & & & & & & & $d_8 = 2$  \\ 
        \hline
            3 & $\times$ & $\times$ & & $\times$ & $\times$ & & $\times$ & $\cdot$ & & $d_7 = 5$  \\ 
        \hline
            4 & $\cdot$ & & & & & & & & & $d_6 = 0$  \\ 
        \hline
            5 & & $\times$ & & $\cdot$ & & & & & & $d_5 = 1$  \\ 
        \hline
            6 & & $\times$ & & & $\times$ & & $\times$ & & $\cdot$ & $d_4 = 3$  \\ 
        \hline
            7 & & $\times$ & & & $\times$ & & $\cdot$ & & & $d_3 = 2$  \\ 
        \hline
            8 & & $\cdot$ & & & & & & & & $d_2 = 0$  \\ 
        \hline
            9 & & & & & $\cdot$ & & & & & $d_1 = 0$  \\ 
        \hline
            Vektor inverzij & 3 & 6 & 1 & 2 & 4 & 0 & 2 & 0 & 0 &  \\ 
        \hline
        \end{tabular}
    \end{center}
    \caption{ Rothejev diagram za permutacijo $\sigma = (6, 3, 8, 1, 4, 9, 7, 2, 5)$. }
    \label{tbl:rothejev_diagram}
\end{table}

Da bi pretvorili Lehmerjevo kodo $d_n, d_{n-1}, ..., d_1$ v permutacijo, najprej uredimo števila $1, 2, ..., n$ v vrsto. $\sigma_1$ je enak elementu v vrsti, ki je za $d_{n}$ elementi. Nato ta element izbrišemo iz vrste. $\sigma_2$ je enak elementu v spremenjeni vrsti, ki je za $d_{n-1}$ elementi. Nato ta element izbrišemo iz vrste in ponovimo postopek za $\sigma_3, ..., \sigma_n$.

Da bi pretvorili tabelo inverzij $d_n, d_{n-1}, ..., d_1$ v permutacijo, imejmo najprej prazno vrsto. Najprej vzemimo $n$ in ga vstavimo v vrsto za $d_1$ elementi (vedno $0$). Nato vzamemo $n-1$ in ga vstavimo v vrsto za $d_{2}$ elementi, ..., vzamemo $1$ in ga vstavimo v vrsto za $d_{n}$ elementi.

Vsota števk v Lehmerjevi kodi ali vektoru inverzij nam pove število inverzij permutacije. Parnost vsote pa nam pove znak permutacije.
\begin{table}
    \begin{center}
        \begin{tabular}{ |c|c|c|c| } 
        \hline
            $\sigma$ & Lehmerjeva koda & Vektor inverzij & Število inverzij \\ 
        \hline
            1234 & 0000 & 0000 & 0 \\ 
        \hline
            1243 & 0010 & 0010 & 1 \\ 
        \hline
            1324 & 0100 & 0100 & 1 \\ 
        \hline
            1342 & 0110 & 0200 & 2 \\ 
        \hline
            1423 & 0200 & 0110 & 2 \\ 
        \hline
            1432 & 0210 & 0210 & 3 \\ 
        \hline
            2134 & 1000 & 1000 & 1 \\ 
        \hline
            2143 & 1010 & 1010 & 2 \\ 
        \hline
            2314 & 1100 & 2000 & 2 \\ 
        \hline
            2341 & 1110 & 3000 & 3 \\ 
        \hline
            2413 & 1200 & 2010 & 3 \\ 
        \hline
            2431 & 1210 & 3010 & 4 \\ 
        \hline
            3124 & 2000 & 1100 & 2 \\ 
        \hline
            3142 & 2010 & 1200 & 3 \\ 
        \hline
            3214 & 2100 & 2100 & 3 \\ 
        \hline
            3241 & 2110 & 3100 & 4 \\ 
        \hline
            3412 & 2200 & 2200 & 4 \\ 
        \hline
            3421 & 2210 & 3200 & 5 \\ 
        \hline
            4123 & 3000 & 1110 & 3 \\ 
        \hline
            4132 & 3010 & 1210 & 4 \\ 
        \hline
            4213 & 3100 & 2110 & 4 \\ 
        \hline
            4231 & 3110 & 3110 & 5 \\
        \hline
            4312 & 3200 & 2210 & 5 \\ 
        \hline
            4321 & 3210 & 3210 & 6 \\ 
        \hline
        \end{tabular}
    \end{center}
    \caption{ Permutacije iz $S_4$ z zapisom Lehmerjeve kode in tabele inverzij. }
    \label{tbl:permutacije4vektorji}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{ Permutacijski grafi }

V tem poglavju bomo definirali permutacijske grafe in si ogledali njihovo karakterizacijo s kohezivnim zaporedjem grafa. Nato bomo pokazali, da so gosenice edina drevesa, ki so permutacijski grafi in si ogledali koliko permutacij ima permutacijski graf izomorfen neki poti oziroma neki gosenici. Na koncu pa bomo pokazali še kako lahko konstruiramo permutacijske grafe.

\section{ Karakterizacija permutacijskih grafov }

\begin{definicija}
    Naj bo $\sigma \in S_n$. Graf inverzij permutacije $\sigma$, ki ga označimo z $G_{\sigma}$, je neusmerjen graf z $V(G_{\sigma}) = [n]$, kjer je $xy \in E(G_{\sigma})$ natanko tedaj, ko je $(x, y)$ ali $(y, x)$ inverzija permutacije $\sigma$. Vsak graf izomorfen grafu $G_{\sigma}$ za neko permutacijo $\sigma$ imenujemo permutacijski graf.
\end{definicija}

\begin{primer}
    $\sigma = (4, 2, 5, 1, 7, 6, 3) \in S_7$, $V(G_{\sigma}) =[7]$. Množica inverzij $\sigma$ je
    $I_{\sigma} = \{ (4, 2), (4, 1), (4, 3), (2, 1), (5, 1), (5, 3), (7, 6), (7, 3), (6, 3) \}$,
    zato je $E(G_{\sigma}) = \{ \{ 4, 2 \}, \{ 4, 1 \}, \{ 4, 3 \}, \{ 2, 1 \}, \{ 5, 1 \}, \{ 5, 3 \}, \{ 7, 6 \}, \{ 7, 3 \}, \{ 6, 3 \} \}$. Graf $G_{\sigma}$ je prikazan na sliki \ref{graf_inverzij}.
\end{primer}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {4/1, 2/3, 5/5, 1/7, 7/9, 6/11, 3/13}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};

                \foreach \from/\to in {4/2, 5/1, 7/6, 6/3}
                    \draw (V-\from) -- (V-\to);

                \draw (V-2) .. controls (3.5, 0.75) and (6.5, 0.75) .. (V-1);
                \draw (V-7) .. controls (9.5, 0.75) and (12.5, 0.75) .. (V-3);
                \draw (V-4) .. controls (1.5, 1.5) and (6.5, 1.5) .. (V-1);
                \draw (V-5) .. controls (5.5, 1.5) and (12.5, 1.5) .. (V-3);
                \draw (V-4) .. controls (1, 2.5) and (13, 2.5) .. (V-3);
        \end{tikzpicture}        
    \end{center}
    \caption{Primer grafa inverzij.}
    \label{graf_inverzij}
\end{figure}

Če je graf permutacijski graf, potem lahko veliko problemov, ki so na poljubnih grafih NP-polni, rešimo v polinomskem času. Na primer iskanje največjega podgrafa, ki je poln graf, je ekvivalentno iskanju največjega padajočega zaporedja v permutaciji, ki definira permutacijski graf.

\begin{definicija}[Kohezivno zaporedje grafa]
\label{def_kohezivno_zaporedje}
    Naj bo $G$ neusmerjen graf na $n$ vozliščih. 
    Zaporedju vozlišč $l = (v_1, v_2, ..., v_n)$ rečemo kohezivno vozliščno zaporedje grafa $G$ (ali enostavneje kohezivno zaporedje grafa $G$), če sta izpolnjena naslednja pogoja (slika \ref{graf_kohezivno_zaporedje_ab}):
    \begin{enumerate}[label=(\alph*)]
        \item Če je $i < k < j$ in $v_iv_k$, $v_kv_j \in E(G)$, potem je $v_iv_j \in E(G)$.
        \item Če je $i < k < j$ in $v_iv_j \in E(G)$, potem je $v_iv_k \in E(G)$ ali $v_kv_j \in E(G)$.
    \end{enumerate}
\end{definicija}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {i/1, k/3, j/5}
                    \node[vertex] (V-\num) at (\x,0) {$v_{\num}$};
            \foreach \num/\x in {i/7, k/9, j/11}
                    \node[vertex] (VV-\num) at (\x,0) {$v_{\num}$};

                \foreach \from/\to in {i/k, k/j}
                    \draw (V-\from) -- (V-\to);
                \foreach \from/\to in {i/k, k/j}
                    \draw[dashed] (VV-\from) -- (VV-\to);


                \draw[dashed] (V-i) .. controls (1.5, 1) and (4.5, 1) .. (V-j);
                \draw (VV-i) .. controls (7.5, 1) and (10.5, 1) .. (VV-j);
        \end{tikzpicture}        
    \end{center}
    \caption{Pogoja za kohezivno zaporedje grafa $G$.}
    \label{graf_kohezivno_zaporedje_ab}
\end{figure}

\begin{lema}
\label{lema0}
    Naj bo $G$ graf. Zaporedje vozlišč $l$ je kohezivno zaporedje grafa $G$ natanko tedaj, ko je $l$ kohezivno zaporedje grafa $\overline{G}$. 
\end{lema}
\begin{dokaz}
    $(\Rightarrow)$ Naj bo $l = (v_1, v_2, ..., v_n)$ kohezivno zaporedje grafa $G$. Trdimo, da je $l$ kohezivno zaporedje grafa $\overline{G}$. 
    \begin{enumerate}[label=(\alph*)]
        \item Naj bosta $v_iv_k, v_kv_j \in E(\overline{G})$ taki povezavi, da $i < k < j$. Potem, po definiciji komplementa $v_iv_k, v_kv_j \notin E(G)$. Če pogoj (b) iz definicije \ref{def_kohezivno_zaporedje} negiramo ($i < k < j$ in $v_iv_k, v_kv_j \notin E(G) \Rightarrow v_iv_j \notin E(G)$), sledi, da $v_iv_j \notin E(G)$. Kar pomeni $v_iv_j \in E(\overline{G})$.
        \item Naj bo $v_iv_j \in E(\overline{G})$ taka povezava, da $i < j$ in $k$ tako naravno število, da je $i < k < j$. Potem $v_iv_j \notin E(G)$. Če pogoj (a) iz definicije \ref{def_kohezivno_zaporedje} negiramo, vidimo, da $v_iv_k \notin E(G)$ ali $v_kv_j \notin E(G)$. Zato sledi, da je $v_iv_k \in E(\overline{G})$ ali $v_kv_j \in E(\overline{G})$. 
    \end{enumerate}

    $(\Leftarrow)$ Obratna smer dokaza sledi iz dejstva, da je $\overline{\overline{G}} = G$.
\end{dokaz}

\begin{izrek}
\label{izrek_sigma_kohezivno_zaporedje}
    Naj bo $\sigma \in S_n$. $\sigma = (\sigma(1), \sigma(2), ..., \sigma(n))$ je kohezivno zaporedje permutacijskega grafa $G_{\sigma}$.
\end{izrek}
\begin{dokaz}
    Naj bo $\sigma = (\sigma(1), \sigma(2), ..., \sigma(n)) \in S_n$. Trdimo, da je $\sigma$ kohezivno zaporedje grafa $G_{\sigma}$. 
    \begin{enumerate}[label=(\alph*)]
        \item Če je $i < k < j$ in $\sigma(i)\sigma(k), \sigma(k)\sigma(j) \in E(G_{\sigma})$, potem sta $(\sigma(i),\sigma(k))$ in $(\sigma(k),\sigma(j))$ inverziji permutacije $\sigma$. To pomeni $\sigma(i) > \sigma(k) > \sigma(j)$. Zato je tudi $(\sigma(i),\sigma(j))$ inverzija permutacije $\sigma$ in $\sigma(i)\sigma(j) \in E(G_{\sigma})$.        

        \item Naj bo $\sigma(i)\sigma(j) \in E(G_{\sigma})$ in $k$ tak, da $i < k < j$. Potem je $(\sigma(i),\sigma(j))$ inverzija permutacije $\sigma$ in $\sigma(i) > \sigma(j)$. Če je $\sigma(i) > \sigma(k)$ je $(\sigma(i),\sigma(k))$ inverzija permutacije $\sigma$ in $\sigma(i)\sigma(k) \in E(G_{\sigma})$. Če je $\sigma(k) > \sigma(j)$ je $(\sigma(k), \sigma(j))$ inverzija permutacije $\sigma$ in $\sigma(k)\sigma(j) \in E(G_{\sigma})$. To pomeni, da je 
        $\sigma(i)\sigma(k) \in E(G_{\sigma})$ ali $\sigma(k)\sigma(j) \in E(G_{\sigma})$.
    \end{enumerate}
\end{dokaz}

Zaporedje vozlišč $(v_1, v_2, ..., v_n)$ je kohezivno zaporedje grafa $G$ natanko tedaj, ko je zaporedje vozlišč $(v_n, v_{n-1}, ..., v_1)$ kohezivno zaporedje grafa $G$.

Za usmerjen graf $D$ rečemo, da je tranzitiven, če je $(x, z)$ usmerjena povezava grafa $D$, kadar sta $(x, y)$ in $(y, z)$ usmerjeni povezavi grafa $D$. 

Polnemu orientiranemu grafu rečemo turnir. Rezultat vozlišča $x$ v turnirju je izhodna stopnja vozlišča $x$. Označimo ga s $s(x)$. Rezultatsko zaporedje turnirja je zaporedje rezultatov vozlišč turnirja v nepadajočem vrstnem redu.

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {1/1, 2/3}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
            \foreach \num/\x in {3/1, 4/3}
                    \node[vertex] (V-\num) at (\x,2) {$\num$};
            \foreach \num/\x in {4/5, 3/7, 2/9, 1/11}
                    \node[vertex] (VV-\num) at (\x,0) {$\num$};

                \foreach \from/\to in {1/2, 2/4, 4/3, 1/3, 3/2, 4/1}
                    \draw[-latex] (V-\from) -- (V-\to);
                \foreach \from/\to in {4/3, 3/2, 2/1}
                    \draw[-latex] (VV-\from) -- (VV-\to);

                \draw[-latex] (VV-4) .. controls (5.5, 1) and (8.5, 1) .. (VV-2);
                \draw[-latex] (VV-3) .. controls (7.5, 1) and (10.5, 1) .. (VV-1);
                \draw[-latex] (VV-4) .. controls (5.5, 1.5) and (10.5, 1.5) .. (VV-1);
        \end{tikzpicture}
    \end{center}
    \caption{Levo je turnir, desno je tranzitiven turnir na $4$ vozliščih.}
    \label{graf_turnirja_in_tranzitivnega_turnirja}
\end{figure}

Obstaja samo en tranzitiven turnir na $n$ vozliščih (do izomorfizma natančno), ki je izomorfen grafu permutacije $\sigma = (n, n-1, ..., 1)$ z usmerjenimi povezavami $x \rightarrow y$, če je $(x, y)$ inverzija. Opazimo tudi, da v tranzitivnem turnirju ni usmerjenih ciklov. 

\begin{izrek}
\label{izrek_tranzitiven_turnir}
    Naj bo $T$ turnir na $n$ vozliščih. Naslednje trditve so ekvivalentne:
    \begin{enumerate}
        \item $T$ je tranzitiven.
        \item Za vsaka $x,y \in V(T)$ velja, da če je $(x, y)$ usmerjena povezava v $T$, potem je $s(x) > s(y)$.
        \item Za vsaka $x,y \in V(T)$  velja, da če je $s(x) > s(y)$, potem je $(x, y)$ usmerjena povezava v $T$.
        \item Rezultatsko zaporedje turnirja $T$ je $(0, 1, 2, ..., n-1)$.
    \end{enumerate}
\end{izrek}
\begin{dokaz}
    Tranzitiven turnir $T$ na $n$ vozliščih je izomorfen grafu permutacije $\sigma = (n, n-1, ..., 1)$ z usmerjenimi povezavami $x \rightarrow y$, če je $(x, y)$ inverzija. Če uredimo vozlišča od leve proti desni tako, kot so v permutaciji $\sigma$, vidimo, da ima vsako vozlišče povezave do vseh vozlišč desno od njega (slika \ref{graf_turnirja_in_tranzitivnega_turnirja}). Iz tega sledijo vse lastnosti iz izreka.
\end{dokaz}

\begin{izrek}
\label{izrek_permutacijski_graf_kohezivno_zaporedje}
    Graf $G$ je permutacijski graf natanko tedaj, ko ima kohezivno zaporedje.
\end{izrek}
\begin{dokaz}
    $(\Rightarrow)$ Vsak permutacijski graf $G$ je izomorfen nekemu grafu $G_{\sigma}$ za neko permutacijo $\sigma$. Po izreku \ref{izrek_sigma_kohezivno_zaporedje} je $\sigma = (\sigma(1), ..., \sigma(n))$ kohezivno zaporedje grafa $G_{\sigma}$. Naj bo $f$ izomorfizem, ki graf $G$ slika v graf $G_{\sigma}$. Potem je $g = f^{-1}$ izomorfizem, ki graf $G_{\sigma}$ slika v graf $G$. Sledi, da je $\pi = (g(\sigma(1)), ..., g(\sigma(n)))$ kohezivno zaporedje grafa $G$, saj je $\sigma$ kohezivno zaporedje grafa $G_{\sigma}$ (slika \ref{graf_izomorfizem_f_k3}).

    \begin{figure}[h]
        \begin{center}        
            \begin{tikzpicture}[shorten >=1pt,-]
                \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                \foreach \num/\x in {1/1, 3/3.5}
                    \node[vertex] (V-\num) at (\x,0) {$v_\num$};
                    
                    \node[vertex] (V-2) at (2.25, 1.5) {$v_2$};
                
                \foreach \num/\x in {3/6, 2/7.5, 1/9}
                    \node[vertex] (VV-\num) at (\x,0) {$\num$};
    
                    \foreach \from/\to in {1/2, 2/3, 3/1}
                        \draw (V-\from) -- (V-\to);
                    \foreach \from/\to in {3/2, 2/1}
                        \draw (VV-\from) -- (VV-\to);
    
                    \draw (VV-3) .. controls (6.5, 1) and (8.5, 1) .. (VV-1);
            \end{tikzpicture}
        \end{center}
        \caption{Izomorfna grafa $G$ in $G_{\sigma}$.}
        \label{graf_izomorfizem_f_k3}
    \end{figure}

    $(\Leftarrow)$ Naj bo $G$ graf s kohezivnim zaporedjem $\pi = (v_1, v_2, ..., v_n)$ (slika \ref{graf_s_kohezivnim_zaporedjem}). 
    \begin{figure}[h]
        \begin{center}
            \begin{tikzpicture}[shorten >=1pt,-]
                \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                \foreach \num/\x in {1/1, 2/3, 3/5, 4/7}
                        \node[vertex] (V-\num) at (\x,0) {$v_{\num}$};
            
                    \foreach \from/\to in {1/2, 3/4}
                        \draw (V-\from) -- (V-\to);
            
                    \draw (V-1) .. controls (1.5, 1.5) and (6.5, 1.5) .. (V-4);
            \end{tikzpicture}
        \end{center}
        \caption{Graf $G$ s kohezivnim zaporedjem $(v_1, v_2, v_3, v_4)$.}
        \label{graf_s_kohezivnim_zaporedjem}
    \end{figure}
    Orientirajmo graf $G$ tako, da vse povezave usmerimo od vozlišča z manjšim indeksom proti vozlišču z večjim indeksom. Če je $v_iv_j \in E(G)$ in $i < j$, potem dobimo $(v_i, v_j)$. Označimo usmerjen graf, ki ga na ta način dobimo z $D$. Spomnimo se, da je zaradi pogoja $(a)$ iz \ref{def_kohezivno_zaporedje} graf $D$ tranzitiven. Orientirajmo še komplement $\overline{G}$ grafa $G$. Povezave $v_iv_j \in E(\overline{G})$, kjer je $i < j$, usmerimo od večjega indeksa k manjšemu in tako dobimo $(v_j, v_i)$. Označimo dobljeni graf z $\overline{D}$. Zaradi leme \ref{lema0} je $\pi$ kohezivno zaporedje grafa $\overline{G}$. Zato je tudi usmerjen graf $\overline{D}$ tranzitiven. Unija grafov $T = D \cup \overline{D}$ je turnir, to je orientacija polnega grafa $G \cup \overline{G}$ (slika \ref{graf_tranzitivni_turnir}).
    \begin{figure}[h]
        \begin{center}
            \begin{tikzpicture}[shorten >=1pt,-]
                \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                \foreach \num/\x in {1/1, 2/3, 3/5, 4/7}
                        \node[vertex] (V-\num) at (\x,0) {$v_{\num}$};
            
                    \foreach \from/\to in {1/2, 3/4}
                        \draw[-latex] (V-\from) -- (V-\to);
                    \draw[-latex] (V-1) .. controls (1.5, 1.5) and (6.5, 1.5) .. (V-4);
                    
                    
                    \draw[dashed, -latex] (V-3) .. controls (4, 0.85) and (2, 0.85) .. (V-1);
                    \draw[dashed, -latex] (V-4) .. controls (6, 0.85) and (4, 0.85) .. (V-2);
                    \draw[dashed, -latex] (V-3) -- (V-2);
            \end{tikzpicture}
        \end{center}
        \caption{ Tranzitiven turnir $T$.}
        \label{graf_tranzitivni_turnir}
    \end{figure}
    Radi bi pokazali, da je $T$ tranzitiven turnir. Naj bosta $(x, y)$ in $(y, z)$ usmerjeni povezavi v grafu $T$. Če bi obe pripadali enemu od $D$ ali $\overline{D}$, bi sledilo, da je $(x, z)$ usmerjena povezava v $T$, saj sta $D$ in $\overline{D}$ tranzitivna. Zato brez škode za splošnost privzamimo, da $(x, y) \in E(D) $ in $(y, z) \in E(\overline{D})$. Če je $(x, z) \in E(D)$ smo končali, saj je potem $(x, z) \in E(T)$. Zato privzamimo da $(x, z) \notin E(D)$. Poglejmo, ali je lahko $(z, x) \in E(D)$. Zaradi tranzitivnosti grafa $D$ bi to pomenilo, da je tudi $(z, y) \in E(D)$, kar je v protislovju s tem, da je  $(y, z) \in E(\overline{D})$. Potem je $(z, x) \in E(\overline{D})$ ali $(x, z) \in E(\overline{D})$. Če je $(z, x) \in E(\overline{D})$, potem zaradi tranzitivnosti $\overline{D}$ in $(y, z), (z, x) \in E(\overline{D})$ sledi, da je $(y, x) \in E(\overline{D})$. To je v protislovju z $(x, y) \in E(D)$. Se pravi, nam ostane $(x, z) \in E(\overline{D})$. Sledi, da je $(x, z) \in E(T)$ in $T$ je tranzitiven turnir. Po izreku \ref{izrek_tranzitiven_turnir} je rezultatsko zaporedje tranzitivnega turnirja $T$ enako $(0, 1, 2, ..., n-1)$. 
    \begin{figure}[h]
        \begin{center}
            \begin{tikzpicture}[shorten >=1pt,-]
                \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                \foreach \num/\x in {3/1, 1/3, 4/5, 2/7}
                        \node[vertex] (V-\num) at (\x,0) {\num};
            
                    \foreach \from/\to in {3/1, 4/2}
                        \draw (V-\from) -- (V-\to);
                    \draw (V-3) .. controls (1.5, 1.5) and (6.5, 1.5) .. (V-2);
                    
                    
                    % \draw[dotted, -latex] (V-3) .. controls (4, 0.85) and (2, 0.85) .. (V-1);
                    % \draw[dotted, -latex] (V-4) .. controls (6, 0.85) and (4, 0.85) .. (V-2);
                    % \draw[dotted, -latex] (V-3) -- (V-2);
            \end{tikzpicture}
        \end{center}
        \caption{Permutacijski graf $G_\sigma$, $\sigma = (3, 1, 4, 2)$.}
        \label{graf_permutacije3142}
    \end{figure}
    $s(v_i)$ je rezultat vozlišča $v_i$ tranzitivnega turnirja $T$ (slika \ref{graf_tranzitivni_turnir}).
    Naj bo $\sigma(i) = 1 + s(v_i)$ (slika \ref{graf_permutacije3142}). Radi bi pokazali, da je $f: v_i \rightarrow 1 + s(v_i) = \sigma(i)$ izomorfizem, ki slika graf $G$ v graf $G_{\sigma}$. Preslikava $f$ je bijektivna, saj imajo vozlišča različne rezultate. Pokazati moramo še, da $f$ ohranja sosednosti vozlišč. Naj bo $v_iv_j \in E(G)$, kjer je $i < j$. Potem je $(v_i, v_j) \in E(D)$. Ker je $T$ tranzitiven turnir, je $s(v_i) > s(v_j)$ (izrek \ref{izrek_tranzitiven_turnir}). Sledi, da je $\sigma(v_i) = 1 + s(v_i) > 1 + s(v_j) = \sigma(v_j)$. Zato je $(\sigma(i), \sigma(j))$ inverzija v $\sigma$ in $f(v_i)f(v_j) \in E(G_{\sigma})$. Obratno, naj bo $xy \in E(G_{\sigma})$. Potem je $(x, y)$ ali $(y, x)$ inverzija v $\sigma$. Privzemimo, da je $(x, y)$ inverzija v $\sigma$. Potem je $x = \sigma(i) = 1 + s(v_i)$ in $y = \sigma(j) = 1 + s(v_j)$, $i < j$. Ker je $(x, y)$ inverzija, je $x > y$. Potem je tudi $s(v_i) > s(v_j)$ in $(v_i, v_j) \in E(T)$ (izrek \ref{izrek_tranzitiven_turnir}). Ker je $i < j$, je $(v_i, v_j) \in E(D)$ in posledično $v_iv_j \in E(G)$.
\end{dokaz}


\begin{izrek}
\label{izrek_ekvivalentne_trditve_permutacijski_graf}
    Naj bo $G$ graf. Naslednje trditve so ekvivalentne:
    \begin{enumerate}[label=(\alph*)]
        \item $G$ je permutacijski graf.
        \item $\overline{G}$ je permutaciski graf.
        \item Vsak induciran podgraf grafa $G$ je permutacijski graf.
        \item Vsaka povezana komponenta grafa $G$ je permutacijski graf.
    \end{enumerate}
\end{izrek}
\begin{dokaz}
    Ekvivalentnost trditve $(a)$ in $(b)$ sledi iz leme \ref{lema0} in izreka \ref{izrek_permutacijski_graf_kohezivno_zaporedje}. Naj bo $(v_1, v_2, ..., v_n)$ kohezivno zaporedje grafa $G$. Induciran podgraf z vozlišči $\{ v_{i_1}, v_{i_2}, ..., v_{i_k} \}$, kjer $i_1 < i_2 < \cdot\cdot\cdot < i_k$, ima kohezivno zaporedje $(v_{i_1}, v_{i_2}, ..., v_{i_k})$ (izpolnjeni sta $(a)$ in $(b)$ iz definicije \ref{def_kohezivno_zaporedje}). Torej induciran podgraf je permutacijski in iz $(a)$ sledi $(c)$. Iz $(c)$ sledi $(d)$, saj je vsaka povezana komponenta induciran podgraf. Pokazati moramo še, da iz $(d)$ sledi $(a)$. Naj bo $G$ graf, ki ima povezane komponente $G_1, G_2, ..., G_k$. $G_i$ naj ima $n_i$ vozlišč. Ker je vsaka povezana komponenta grafa $G$ permutacijski graf, ima kohezivno zaporedje. Naj bo $l_i = (v_1^i, v_2^i, ..., v_{n_i}^i)$ kohezivno zaporedje povezane komponente $G_i$. Potem je 
    \[
        l = (l_1, l_2, ..., l_k) = (v_1^1, v_2^1, ..., v_{n_1}^1, v_1^2, v_2^2, ..., v_{n_2}^2, ..., v_1^k, v_2^k, ..., v_{n_k}^k)
    \]
         kohezivno zaporedje grafa $G$ in graf $G$ permutacijski. 
\end{dokaz}

\section{ Gosenice }

Grafi poti $P_n$ in zvezd $K_{1,n}$ so permutacijski grafi, saj imajo kohezivno zaporedje (sliki \ref{graf_kohezivnega_zaporedja_pot} in \ref{graf_kohezivnega_zaporedja_zvezda}). Kohezivni zaporedji za pot $P_{13}$ sta permutaciji:
\[
    \sigma_1 = (3, 1, 5, 2, 7, 4, 9, 6, 11, 8, 13, 10, 12)
\] 
in 
\[
    \sigma_2 = (2, 4, 1, 6, 3, 8, 5, 10, 7, 12, 9, 13, 11).
\]
Kohezivno zaporedje za zvezdo $K_{1, n}$ pa je permutacija: 
\[
    \pi = (n+1, 1, 2, ..., n).
\]
\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {3/1, 1/2, 5/3, 2/4, 7/5, 4/6, 9/7, 6/8, 11/9, 8/10, 10/12}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {3/1, 5/2, 7/4, 9/6, 11/8}
                    \draw (V-\from) -- (V-\to);
        
                \draw (V-3) .. controls (1.5, 0.75) and (3.5, 0.75) .. (V-2);
                \draw (V-5) .. controls (3.5, 0.75) and (5.5, 0.75) .. (V-4);
                \draw (V-7) .. controls (5.5, 0.75) and (7.5, 0.75) .. (V-6);
                \draw (V-9) .. controls (7.5, 0.75) and (9.5, 0.75) .. (V-8);
                \draw (V-11) .. controls (9.5, 0.75) and (11.5, 0.75) .. (V-10);
                % \draw (V-13) .. controls (11.5, 0.75) and (12.5, 0.75) .. (V-12);
                
                \filldraw [black] (11,0) circle (.5pt);
                \filldraw [black] (11.33,0) circle (.5pt);
                % \filldraw [black] (11.5,0) circle (.5pt);
                % \filldraw [black] (12.5,0) circle (.5pt);
                % \filldraw [black] (12.75,0) circle (.5pt);
                % \filldraw [black] (13,0) circle (.5pt);
                
                \filldraw [black] (11,0) circle (.5pt);
                \filldraw [black] (11.6,0.53) circle (.5pt);
                \filldraw [black] (12.2,0.63) circle (.5pt);
                \filldraw [black] (12.8,0.63) circle (.5pt);
                \filldraw [black] (13.4,0.53) circle (.5pt);
                \filldraw [black] (14,0) circle (.5pt);
        \end{tikzpicture}     
    \end{center}
    \caption{Primer kohezivnega zaporedja za pot $P_n$.}
    \label{graf_kohezivnega_zaporedja_pot}
\end{figure}


% \begin{tikzpicture}[shorten >=1pt,-]
%     \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
%     \foreach \num/\x in {2/1, 4/2, 1/3, 6/4, 3/5, 8/6, 5/7, 10/8, 7/9, 12/10, 9/11, 13/12, 11/13}
%             \node[vertex] (V-\num) at (\x,0) {$\num$};

%         \foreach \from/\to in {4/1, 6/3, 8/5, 10/7, 12/9, 13/11}
%             \draw (V-\from) -- (V-\to);

%         \draw (V-2) .. controls (1.5, 0.75) and (2.5, 0.75) .. (V-1);
%         \draw (V-4) .. controls (2.5, 0.75) and (4.5, 0.75) .. (V-3);
%         \draw (V-6) .. controls (4.5, 0.75) and (6.5, 0.75) .. (V-5);
%         \draw (V-8) .. controls (6.5, 0.75) and (8.5, 0.75) .. (V-7);
%         \draw (V-10) .. controls (8.5, 0.75) and (10.5, 0.75) .. (V-9);
%         \draw (V-12) .. controls (10.5, 0.75) and (12.5, 0.75) .. (V-11);
% \end{tikzpicture}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=28pt,inner sep=0pt]
            \foreach \num/\x in {1/3, 2/5, n/9}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
                    
                \node[vertex] (V-n+1) at (1,0) {$n\!+\!1$};
                \foreach \from/\to in {n+1/1}
                    \draw (V-\from) -- (V-\to);

                \draw (V-n+1) .. controls (1.5, 0.75) and (4.5, 0.75) .. (V-2);
                \draw (V-n+1) .. controls (1.5, 1.5) and (8.5, 1.5) .. (V-n);

                
                \filldraw [black] (6.5,0) circle (1pt);
                \filldraw [black] (7,0) circle (1pt);
                \filldraw [black] (7.5,0) circle (1pt);
        \end{tikzpicture} 
    \end{center}
    \caption{Primer kohezivnega zaporedja za zvezdo $K_{1, n}$.}
    \label{graf_kohezivnega_zaporedja_zvezda}
\end{figure}

Vidimo, da je pogoj $(a)$ iz definicije kohezivnega zaporedja \ref{def_kohezivno_zaporedje} za poti $P_n$ na prazno izpolnjen, saj ni dveh povezav $v_iv_k$ in $v_kv_j$, kjer so $i < k < j$. Pogoj $(b)$ pa je izpolnjen, saj je vedno, ko je $v_iv_j$ povezava in $k$ tak, da $i < k < j$, v grafu ena od povezav $v_iv_k$ ali $v_kv_j$. Podobno je pogoj $(a)$ izpolnjen na prazno za zvezde. Pogoj $(b)$ pa je izpolnjen, saj so vse povezave v grafu oblike $v_{n+1}v_k$ za $k \in \{ 1, 2, ..., n \}$. Zato katerokoli povezavo vzamemo, bodo vsa vozlišča med krajiščema izbrane povezave $v_{n+1}v_k$ povezana z vozliščem $v_{n+1}$.

Poti in zvezde so drevesa. Ampak niso vsa drevesa permutacijski grafi. Drevo $K_{1,3}^*$, pridobljeno s subdivizijo vseh povezav zvezde $K_{1,3}$ (slika \ref{graf_subdivizija_k13}), ni permutacijski graf.

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                    \node[vertex] (V-0) at (4,4){};
                    \node[vertex] (V-1) at (4,1.75){};
                    \node[vertex] (V-2) at (2,0){};
                    \node[vertex] (V-3) at (6,0){};
        
                \foreach \from/\to in {0/1, 1/2, 1/3}
                    \draw (V-\from) -- (V-\to);
        \end{tikzpicture}\qquad
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                    \node[vertex] (V-0) at (4,4){};
                    \node[vertex] (V-01) at (4,2.90){};
                    \node[vertex] (V-1) at (4,1.75){};
                    \node[vertex] (V-12) at (3, 0.875){};
                    \node[vertex] (V-2) at (2,0){};
                    \node[vertex] (V-13) at (5,0.875){};
                    \node[vertex] (V-3) at (6,0){};
        
                \foreach \from/\to in {0/01, 12/2, 13/3, 01/1, 1/12, 1/13}
                    \draw (V-\from) -- (V-\to);
        \end{tikzpicture}
    \end{center}
    \caption{Grafa $K_{1, 3}$ in $K_{1, 3}^*$.}
    \label{graf_subdivizija_k13}
\end{figure}


\begin{definicija}
    Gosenica je drevo, ki po odstranitvi vseh listov postane pot (slika \ref{graf_gosenice_10_listov}).
\end{definicija}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                    \node[vertex] (V-0) at (0, 1){};
                    \node[vertex] (V-1) at (2, 1){};
                    \node[vertex] (V-2) at (4, 1){};
                    \node[vertex] (V-3) at (6, 1){};
                    \node[vertex] (V-4) at (8, 1){};
                    \node[vertex] (V-5) at (0, 2){};
                    \node[vertex] (V-6) at (2, 2){};
                    \node[vertex] (V-7) at (1, 2){};
                    \node[vertex] (V-8) at (3, 2){};
                    \node[vertex] (V-9) at (4, 0){};
                    \node[vertex] (V-10) at (5, 0){};
                    \node[vertex] (V-11) at (8, 0){};
                    \node[vertex] (V-12) at (7, 2){};
                    \node[vertex] (V-13) at (8, 2){};
                    \node[vertex] (V-14) at (9, 2){};
        
                \foreach \from/\to in {0/1, 1/2, 2/3, 3/4, 0/5, 1/6, 1/7, 1/8, 2/9, 2/10, 4/11, 4/12, 4/13, 4/14}
                    \draw (V-\from) -- (V-\to);
        \end{tikzpicture}
    \end{center}
    \caption{Graf gosenice z $10$ listi.}
    \label{graf_gosenice_10_listov}
\end{figure}


\begin{lema}
    Drevo je gosenica natanko tedaj, ko ne vsebuje podgrafa $K_{1,3}^*$.
\end{lema}
\begin{dokaz}
    Če je drevo gosenica, potem po odstranitvi vseh listov dobimo pot. Če drevesu $K_{1,3}^*$ odstranimo vse liste, ne dobimo poti. Torej tudi če drevo vsebuje $K_{1,3}^*$ kot podgraf, nam po odstranitvi listov ostane graf, ki ni pot. Torej gosenica ne vsebuje podgrafa $K_{1,3}^*$. Če drevo ne vsebuje podgrafa $K_{1,3}^*$, potem ima vsako vozlišče največ dva soseda, ki nista lista. Prav tako graf ne vsebuje ciklov, saj je drevo. Po odstranitvi listov drevesa vedno dobimo povezan graf, zato po odstranitvi listov tako dobimo pot. Torej je drevo, ki ne vsebuje podgrafa $K_{1,3}^*$, gosenica.
\end{dokaz}

% \begin{figure}[h]
%     \begin{center}        
%         \begin{tikzpicture}[shorten >=1pt,-]
%             \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
%             \foreach \num/\x in {l_1/0, 2/1, l_2/2, 1/3, l_3/4, 4/5, l_4/6, 3/7, l_5/8, 6/9, l_6/10, 5/11}
%                     \node[vertex] (V-\num) at (\x,0) {$\num$};
        
%                 \foreach \from/\to in {2/l_2, 4/l_4, 6/l_6}
%                     \draw[dashed] (V-\from) -- (V-\to);
        
%                 \draw[dashed] (V-l_1) .. controls (0.5, 1) and (2.5, 1) .. (V-1);
%                 \draw[dashed] (V-l_3) .. controls (4.5, 1) and (6.5, 1) .. (V-3);
%                 \draw[dashed] (V-l_5) .. controls (8.5, 1) and (10.5, 1) .. (V-5);
    
%                 \draw (V-2) .. controls (1.5, 0.75) and (2.5, 0.75) .. (V-1);
%                 \draw (V-4) .. controls (5.5, 0.75) and (6.5, 0.75) .. (V-3);
%                 \draw (V-6) .. controls (9.5, 0.75) and (10.5, 0.75) .. (V-5);
%                 \draw (V-2) .. controls (1.5, 1.5) and (6.5, 1.5) .. (V-3);
%                 \draw (V-4) .. controls (5.5, 1.5) and (10.5, 1.5) .. (V-5);
%         \end{tikzpicture}
%     \end{center}
%     \caption{Primer kohezivnega zaporedja gosenice.}
%     \label{graf_kohezivnega_zaporedja_gosenice}
% \end{figure}
\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {l_1/0, 2/1, 1/2, l_2/3, l_3/4, 4/5, 3/6, l_4/7, l_5/8, 6/9, 5/10, l_6/11}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {2/1, 4/3, 6/5}
                    \draw (V-\from) -- (V-\to);
        
                \draw[dashed] (V-l_1) .. controls (0.5, 0.75) and (1.5, 0.75) .. (V-1);
                \draw[dashed] (V-l_3) .. controls (4.5, 0.75) and (5.5, 0.75) .. (V-3);
                \draw[dashed] (V-l_5) .. controls (8.5, 0.75) and (9.5, 0.75) .. (V-5);
    
                \draw[dashed] (V-2) .. controls (1.5, 0.75) and (2.5, 0.75) .. (V-l_2);
                \draw[dashed] (V-4) .. controls (5.5, 0.75) and (6.5, 0.75) .. (V-l_4);
                \draw[dashed] (V-6) .. controls (9.5, 0.75) and (10.5, 0.75) .. (V-l_6);
                \draw (V-2) .. controls (1.5, 1.33) and (5.5, 1.33) .. (V-3);
                \draw (V-4) .. controls (5.5, 1.33) and (9.5, 1.33) .. (V-5);
        \end{tikzpicture}
    \end{center}
    \caption{Primer kohezivnega zaporedja gosenice.}
    \label{graf_kohezivnega_zaporedja_gosenice}
\end{figure}
\begin{izrek}
\label{izrek_gosenica_permutacijski_graf}
    Drevo je permutacijski graf natanko tedaj, ko je gosenica.
\end{izrek}
\begin{dokaz}
    $(\Rightarrow)$ Če drevo ni gosenica, potem vsebuje $K_{1,3}^*$ kot podgraf. Drevo, ki vsebuje $K_{1,3}^*$, ni permutacijski graf, saj $K_{1,3}^*$ ni permutacijski graf. 
    
    $(\Leftarrow)$ Potrebno je še pokazati, da je gosenica permutacijski graf. To bomo pokazali tako, da bomo gosenici našli kohezivno zaporedje. Naj bo $C$ gosenica in naj bo $P_n$ pot, ki jo pridobimo iz $C$ tako, da odstranimo liste. Če je $n=1$, potem je $C$ zvezda $K_{1,k}$ za nek $k \geq 0$ ali pa trivialen graf $K_1$. Ker so zvezde in trivialen graf permutacijski grafi, predpostavimo, da je $n \geq 2$. Zgradimo kohezivno zaporedje poti $P_n$ kot na primeru od prej. Vse liste lihega vozlišča $i$ na poti vstavimo levo od vozlišče $i+1$ na poti $P_n$. Vse liste sodega vozlišča $i$ na poti vstavimo desno od vozlišča $i-1$ na poti $P_n$. Rezultat je kohezivno zaporedje (slika \ref{graf_kohezivnega_zaporedja_gosenice}). Zato je gosenica $C$ res permutacijski graf.    
\end{dokaz}

Imejmo tako gosenico, da ko ji odstranimo vse liste dobimo pot na $k$ vozliščih. Vozlišče na poti $u_i$ naj ima $m_i$ listov. Označimo tako gosenico z $C_k(m_1, m_2, ..., m_k)$.

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {5/1, 1/2, 8/5, 4/6}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
            \foreach \num/\x in {2/0, 3/3, 6/4, 7/7}
                    \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {5/1, 8/4}
                    \draw[-latex] (V-\from) -- (V-\to);
        
                \draw[-latex] (V-2) .. controls (0.5, 0.75) and (1.5, 0.75) .. (V-1);
                \draw[-latex] (V-6) .. controls (4.5, 0.75) and (5.5, 0.75) .. (V-4);
    
                \draw[-latex] (V-5) .. controls (1.5, 0.75) and (2.5, 0.75) .. (V-3);
                \draw[-latex] (V-8) .. controls (5.5, 0.75) and (6.5, 0.75) .. (V-7);
                \draw[-latex] (V-5) .. controls (1.5, 1.33) and (5.5, 1.33) .. (V-4);
        \end{tikzpicture}\\\quad\\                    
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {3/0, 7/3, 2/4, 6/7}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
            \foreach \num/\x in {1/1, 4/2, 5/5, 8/6}
                    \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {3/1, 7/2, 8/6}
                    \draw[-latex] (V-\from) -- (V-\to);
        
                \draw[-latex] (V-4) .. controls (2.5, 0.75) and (3.5, 0.75) .. (V-2);
                \draw[-latex] (V-7) .. controls (3.5, 0.75) and (4.5, 0.75) .. (V-5);

                \draw[-latex] (V-3) .. controls (0.5, 1.1) and (3.5, 1.1) .. (V-2);
                \draw[-latex] (V-7) .. controls (3.5, 1.1) and (6.5, 1.1) .. (V-6);
        \end{tikzpicture}
    \end{center}
    \caption{Tranzitivni orientaciji gosenice $C_4(1, 1, 1, 1)$.}
    \label{tranzitivni_orientaciji_gosenice}
\end{figure}

\begin{figure}[h]
    \begin{center}        
        % \begin{tikzpicture}[shorten >=1pt,-]
        %     \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
        %     \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
        %     \foreach \num/\x in {5/1, 1/2, 8/5, 4/6}
        %             \node[vertex] (V-\num) at (\x,0) {$\num$};
        %     \foreach \num/\x in {2/0, 3/3, 6/4, 7/7}
        %             \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
        %         \foreach \from/\to in {5/1, 8/4}
        %             \draw (V-\from) -- (V-\to);
        
        %         \draw (V-2) .. controls (0.5, 0.75) and (1.5, 0.75) .. (V-1);
        %         \draw (V-6) .. controls (4.5, 0.75) and (5.5, 0.75) .. (V-4);
    
        %         \draw (V-5) .. controls (1.5, 0.75) and (2.5, 0.75) .. (V-3);
        %         \draw (V-8) .. controls (5.5, 0.75) and (6.5, 0.75) .. (V-7);
        %         \draw (V-5) .. controls (1.5, 1.33) and (5.5, 1.33) .. (V-4);
        % \end{tikzpicture}\\\quad\\                    
        % \begin{tikzpicture}[shorten >=1pt,-]
        %     \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
        %     \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
        %     \foreach \num/\x in {3/0, 7/3, 2/4, 6/7}
        %             \node[vertex] (V-\num) at (\x,0) {$\num$};
        %     \foreach \num/\x in {1/1, 4/2, 5/5, 8/6}
        %             \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
        %         \foreach \from/\to in {3/1, 7/2, 8/6}
        %             \draw (V-\from) -- (V-\to);
        
        %         \draw (V-4) .. controls (2.5, 0.75) and (3.5, 0.75) .. (V-2);
        %         \draw (V-7) .. controls (3.5, 0.75) and (4.5, 0.75) .. (V-5);

        %         \draw (V-3) .. controls (0.5, 1.1) and (3.5, 1.1) .. (V-2);
        %         \draw (V-7) .. controls (3.5, 1.1) and (6.5, 1.1) .. (V-6);
        % \end{tikzpicture}\\\quad\\
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {5/1, 1/2, 9/5, 4/6, 8/9}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
            \foreach \num/\x in {2/0, 3/3, 6/4, 7/7, 10/8}
                    \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {5/1, 9/4, 10/8}
                    \draw (V-\from) -- (V-\to);
        
                \draw (V-2) .. controls (0.5, 0.75) and (1.5, 0.75) .. (V-1);
                \draw (V-6) .. controls (4.5, 0.75) and (5.5, 0.75) .. (V-4);
    
                \draw (V-5) .. controls (1.5, 0.75) and (2.5, 0.75) .. (V-3);
                \draw (V-9) .. controls (5.5, 0.75) and (6.5, 0.75) .. (V-7);

                \draw (V-5) .. controls (1.5, 1.33) and (5.5, 1.33) .. (V-4);
                \draw (V-9) .. controls (5.5, 1.1) and (8.5, 1.1) .. (V-8);
        \end{tikzpicture}\\\quad\\                    
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {3/0, 7/3, 2/4, 10/7, 6/8}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
            \foreach \num/\x in {1/1, 4/2, 5/5, 8/6, 9/9}
                    \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {3/1, 7/2, 10/6}
                    \draw (V-\from) -- (V-\to);
        
                \draw (V-4) .. controls (2.5, 0.75) and (3.5, 0.75) .. (V-2);
                \draw (V-7) .. controls (3.5, 0.75) and (4.5, 0.75) .. (V-5);        
                \draw (V-8) .. controls (6.5, 0.75) and (7.5, 0.75) .. (V-6);
                \draw (V-10) .. controls (7.5, 0.75) and (8.5, 0.75) .. (V-9);

                \draw (V-3) .. controls (0.5, 1.1) and (3.5, 1.1) .. (V-2);
                \draw (V-7) .. controls (3.5, 1.33) and (7.5, 1.33) .. (V-6);
        \end{tikzpicture}\\\quad\\
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {5/1, 1/2, 9/5, 4/6, 12/9, 8/10}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
            \foreach \num/\x in {2/0, 3/3, 6/4, 7/7, 10/8, 11/11}
                    \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {5/1, 9/4, 12/8}
                    \draw (V-\from) -- (V-\to);
        
                \draw (V-2) .. controls (0.5, 0.75) and (1.5, 0.75) .. (V-1);
                \draw (V-6) .. controls (4.5, 0.75) and (5.5, 0.75) .. (V-4);
                \draw (V-10) .. controls (8.5, 0.75) and (9.5, 0.75) .. (V-8);

                \draw (V-5) .. controls (1.5, 0.75) and (2.5, 0.75) .. (V-3);
                \draw (V-9) .. controls (5.5, 0.75) and (6.5, 0.75) .. (V-7);
                \draw (V-12) .. controls (9.5, 0.75) and (10.5, 0.75) .. (V-11);

                \draw (V-5) .. controls (1.5, 1.33) and (5.5, 1.33) .. (V-4);
                \draw (V-9) .. controls (5.5, 1.33) and (9.5, 1.33) .. (V-8);
        \end{tikzpicture}\\\quad\\                    
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
            \tikzstyle{vertex2}=[circle,draw=black!50,fill=white!25,minimum size=20pt,inner sep=0pt]
            \foreach \num/\x in {3/0, 7/3, 2/4, 11/7, 6/8, 10/11}
                    \node[vertex] (V-\num) at (\x,0) {$\num$};
            \foreach \num/\x in {1/1, 4/2, 5/5, 8/6, 9/9, 12/10}
                    \node[vertex2] (V-\num) at (\x,0) {$\num$};
        
                \foreach \from/\to in {3/1, 7/2, 11/6, 12/10}
                    \draw (V-\from) -- (V-\to);
        
                \draw (V-4) .. controls (2.5, 0.75) and (3.5, 0.75) .. (V-2);
                \draw (V-7) .. controls (3.5, 0.75) and (4.5, 0.75) .. (V-5);        
                \draw (V-8) .. controls (6.5, 0.75) and (7.5, 0.75) .. (V-6);
                \draw (V-11) .. controls (7.5, 0.75) and (8.5, 0.75) .. (V-9);

                \draw (V-3) .. controls (0.5, 1.1) and (3.5, 1.1) .. (V-2);
                \draw (V-7) .. controls (3.5, 1.33) and (7.5, 1.33) .. (V-6);
                \draw (V-11) .. controls (7.5, 1.1) and (10.5, 1.1) .. (V-10);
        \end{tikzpicture}
    \end{center}
    \caption{Permutacije gosenic.}
    \label{gosenica_dve_permutaciji}
\end{figure}

\begin{izrek}
\label{izrek_gosenica_vsaj_dve_permutaciji}
    Gosenica $C_k(m_1, m_2, ..., m_k)$ je permutacijski graf vsaj dveh permutacij.
\end{izrek}
\begin{dokaz}
    Vsako drevo, z vsaj eno povezavo ima natanko dve tranzitivni orientaciji. To sledi iz dejstva, da ko usmerimo eno povezavo smo že določili tranzitivno orientacijo drevesa. Zato ima tudi gosenica $C_k(m_1, m_2, ..., m_k)$ natanko dve tranizitivni orientaciji (slika \ref{tranzitivni_orientaciji_gosenice}).
    Naj bo $n = k + m_1 + m_2 + \cdot\cdot\cdot + m_k$ število vozlišč grafa $C_k(m_1, m_2, ..., m_k)$. Priredimo števila $1, 2, ..., n$ vozliščem grafa. To naredimo tako, da če je povezava $uv$ orientirana od $u$ proti $v$, potem mora biti število, ki ga priredimo vozlišču $u$, večje od števila, ki ga priredimo vozlišču $v$ (slika \ref{tranzitivni_orientaciji_gosenice}). To bomo naredili induktivno na dva načina (sliki \ref{tranzitivni_orientaciji_gosenice} in \ref{gosenica_dve_permutaciji}). (1. način) Če je $k = 1$ priredimo število $1$ vozlišču $u_1$ in števila $2, 3, ..., m_1+1$ listom, ki so sosedi vozlišča $u_1$. To nam da permutacijo $(2, 3, ..., m_1+1, 1)$. Naj bo k sodo število in si poglejmo kako iz $C_k(m_1, m_2, ..., m_k)$ naredimo $C_{k+1}(m_1, m_2, ..., m_{k+1})$. Povečamo število $p$, ki je prirejeno vozlišču $u_k$ na $p+1$ in priredimo število $p$ vozlišču $u_{k+1}$. Števila $p+2, p+3, ..., p+m_{k+1}+1$ priredimo listom, ki so sosedi vozlišča $u_{k+1}$. Se pravi smo permutacijo posodobili tako, da najprej nakoncu zaporedja prejšne permutacije priključimo nova števila v zaporedju $p+2, p+3, ..., p+m_{k+1}+1, p+1$ in dobimo $(\cdot\cdot\cdot, p, \cdot\cdot\cdot, p+2, p+3, ..., p+m_{k+1}+1, p+1)$, potem pa zamenjamo števili $p$ in $p+1$ in dobimo $(\cdot\cdot\cdot, p+1, \cdot\cdot\cdot, p+2, p+3, ..., p+m_{k+1}+1, p)$. Naj bo sedaj k liho število in si poglejmo kako iz $C_k(m_1, m_2, ..., m_k)$ naredimo $C_{k+1}(m_1, m_2, ..., m_{k+1})$. Naj bo $p_k = k + m_1 + m_2 + \cdot\cdot\cdot + m_k$. Priredimo števila $p_k+1, p_k+2, ..., p_k+m_{k+1}$ listom, ki so sosedi vozlšča $u_{k+1}$. Število $p_k+m_{k+1}+1$ pa priredimo vozlišču $u_{k+1}$. Se pravi smo permutacijo posodobili tako, da najprej nakoncu zaporedja prejšne permutacije priključimo nova števila v zaporedju $p_k + m_{k+1} + 1, p_k+1, p_k+2,...,p_k+m_{k+1}$ in dobimo $(\cdot\cdot\cdot, p_k - m_k - 1, \cdot\cdot\cdot, p_k + m_{k+1} + 1, p_k+1, p_k+2,...,p_k+m_{k+1})$, potem pa zamenjamo števili $p_k - m_k - 1$ in $p_k + m_{k+1} + 1$, ki pripadata vozliščema $u_k$ in $u_{k+1}$. (2. način) Če je $k = 1$ priredimo število $m_1 + 1$ vozlišču $u_1$ in števila $1, 2, ..., m_1$ listom, ki so sosedi vozlišča $u_1$. To nam da permutacijo $(m_1+1, 1, 2, ..., m_1)$. Naj bo k sodo število in si poglejmo kako iz $C_k(m_1, m_2, ..., m_k)$ naredimo $C_{k+1}(m_1, m_2, ..., m_{k+1})$. To naredimo na enak način, kot smo pri 1. načinu v primeru ko je bil k liho število. Naj bo k liho število in si poglejmo kako iz $C_k(m_1, m_2, ..., m_k)$ naredimo $C_{k+1}(m_1, m_2, ..., m_{k+1})$. To naredimo na enak način, kot smo pri 1. načinu v primeru ko je bil k sodo število. Tako smo pokazali, da je $C_k(m_1, m_2, ..., m_k)$ permutacijski graf vsaj dveh permutacij.

\end{dokaz}

\begin{izrek}
\label{izrek_dve_permutaciji_poti}
    Za $n \geq 3$ obstajata natanko dve permutaciji iz $S_n$, katerih permutacijski graf je pot na $n$ vozliščih.
\end{izrek}
\begin{dokaz}
    Naj bo $n \geq 3$ in $\sigma = (\sigma_1, \sigma_2,..., \sigma_n) \in S_n$ takšna permutacija, da je $G_{\sigma} = P_n$. Opazimo naslednje lastnosti permutacije $\sigma$:
    \begin{enumerate}[label=(\alph*)]
        \item $(\sigma_1, \sigma_2, ..., \sigma_k) \notin S_k$ za $k < n$.
        \item $i-2 \leq \sigma_i \leq i+2$ za $i \leq n$
    \end{enumerate}
    
    Dokaz lastnosti (a): Naj bo $k < n$. Če je $(\sigma_1, \sigma_2, ..., \sigma_k) \in S_k$, potem graf $G_{\sigma}$ ni povezan. To je v nasprotju s tem, da je $G_{\sigma}$ pot.
    
    Dokaz lastnosti (b): Če je $\sigma_i \leq i-3$, potem je največ $i-4$ števil, ki so manjše od $\sigma_i$, med $i-1$ števili pred $\sigma_i$ v permutaciji $\sigma$. Zato so vsaj 3 števila pred $\sigma_i$ v permutaciji $\sigma$ večja od $\sigma_i$. To pomeni, de ima $\sigma_i$ vsaj $3$ sosede, kar pa je v protislovju s tem, da je $G_{\sigma}$ pot. Podobno če je $\sigma_i \geq i+3$, potem so za $\sigma_i$ v permutaciji $\sigma$ vsaj 3 števila, ki so manjša od $\sigma_i$. Kar zopet pomeni, de ima $\sigma_i$ vsaj $3$ sosede, kar pa je v protislovju s tem, da je $G_{\sigma}$ pot.

    Zaradi lastnosti (a) in (b) je $\sigma_1 \in \{ 2, 3\}$. Poglejmo si najprej primer, ko je $\sigma_1 = 2$. Zaradi lastnosti (a) in (b) je $\sigma_2 \in \{ 3, 4 \}$. Če je $\sigma_2 = 3$, potem graf vsebuje pot na vozliščih $2, 3, 1$, kjer imata vozlišči $3$ in $1$ stopnjo enako $1$, kar se lahko zgodi samo, če je $n = 3$ (v nasprotnem primeru bi bil graf $G_{\sigma}$ nepovezan). Če je $\sigma_2 = 4$, potem mora biti $\sigma_3 = 1$ (drugače bi imelo vozlišče $1$ stopnjo vsaj $3$), se pravi $\sigma = (2, 4, 1, ...)$. Zaradi lastnosti (a) in (b) je $\sigma_4 \in \{ 5, 6 \}$. Če je $\sigma_4 = 5$, potem ima stopnjo 1, kar se lahko zgodi samo ko je $n = 5$ in $\sigma = (2, 4, 1, 5, 3)$. Sicer je $\sigma_4 = 6$ in $\sigma_5 = 3$ (drugače bi imelo vozlišče $3$ stopnjo vsaj $3$), se pravi $\sigma = (2, 4, 1, 6, 3,...)$. Tako lahko nadaljujemo do poljubne dolžine. Induktivno lahko pokažemo, da je $\sigma$ unikatno določena. 
    
    Pogljemo si sedaj še primer, ko je $\sigma_1 = 3$. Potem je $\sigma_2 \in \{ 1, 2, 4\}$. $\sigma \neq 2$, saj bi tako v permutaciji imeli podzaporedje $3, 2, 1$, kar nam da cikel dolžine 3. Prav tako $\sigma \neq 4$, saj bi tako permutacija vsebovala povezave $32, 31, 42, 41$, kar nam da cikel dolžine 4. Zato je $\sigma_2 = 1$. Zaradi lastnosti (a) in (b) je $\sigma_3 \in \{ 4, 5 \}$. Če je $\sigma_3 = 4$, potem je $\sigma_4 = 2$ (drugače bi imelo vozlišče $2$ stopnjo vsaj $3$). Se pravi $n = 4$ in $\sigma = (3, 1, 4, 2)$. Če je $\sigma_3 = 5$ potem je $\sigma_4 = 2$ in $\sigma = (3, 1, 5, 2,...)$. Podobno, kot prej lahko nadaljujemo do poljubne dolžine. Induktivno lahko pokažemo, da je $\sigma$ unikatno določena.

    Dobimo sklep, da obstajata natanko dve permutaciji iz $S_n$, katerih permutacijski graf je pot na $n$ vozliščih.
\end{dokaz}

\begin{posledica}
    Naj bo $\sigma \in S_n$ taka, da je njen permutacijski graf pot na $n$ vozliščih. Potem nam zaporedje vozlišč na poti da permutacijo $\sigma^*$, ki je sestavljena iz sosednjih transpozicij. Še več $\sigma^* \preceq_b \sigma$.
\end{posledica}
\begin{dokaz}
    Po izreku \ref{izrek_dve_permutaciji_poti} imata edini dve poti na $n$ vozliščih permutaciji $\sigma_1 = (2, 4, 1, 6, 3,...)$ in $\sigma_2 = (3, 1, 5, 2, 7, 4,...)$. Zaporedja vozlišč na poti sta $\sigma_1^* = (2, 1, 4, 3,...)$ in $\sigma_2^* = (1, 3, 2, 5, 4,...)$. Vidimo, da je permutacija $\sigma^*$ pridobljena iz permutacije $\sigma$ z zaporedjem transpozicij sosednjih elementov, kjer vsaka transpozicija odstrani eno inverzjo.
\end{dokaz}

\begin{posledica}    
    Naj bo $n \geq 3$ in $C$ gosenica na $n$ vozliščih. Potem obstajata natanko dve permutaciji iz $S_n$, katerih permutacijski graf je izomorfen grafu gosenice $C$.
\end{posledica}
\begin{dokaz}
    Privzamimo, da ima pot gosenice maksimalno dolžino (se pravi $m_1 = m_k = 0$). Naj bo $N$ število permutacij iz $S_n$, katerih permutacijski graf je izomorfen grafu $C$. Po izreku \ref{izrek_gosenica_vsaj_dve_permutaciji} je $N \geq 2$. Naj bo $\pi$ perutacija, katere graf je izomorfen grafu $C$. Vidimo, da je $\pi$ unikatno določena z zaporedjem vozlišč na poti. To je res, saj morajo biti listi urejeni naraščujoče, da preprečimo dodatne inverzije v permutaciji. Po izreku \ref{izrek_dve_permutaciji_poti} obstajata natanko dve zaporedji vozlišč na poti. Torej je $N \leq 2$. Zato je $N = 2$.
\end{dokaz}

\section{ Konstrukcija permutacijskih grafov}

\begin{definicija}
    Naj bo $G$ graf z množico vozlišč $V(G) = \{x_1, x_2, ..., x_n\}$ in naj bodo $H_1, H_2, ..., H_n$ poljubni grafi. Kompozicija grafov $H_1, H_2, ..., H_n$ z grafom $G$, označena z $G(H_1, H_2, ..., H_n)$, je graf sestavljen iz disjunktne unije $H_1, H_2, ..., H_n$ in dodanih povezav $a_ib_j$, kjer je $a_i \in V(H_i)$ in $b_j \in V(H_j)$, kadar je $x_ix_j \in E(G)$ (sliki \ref{graf_kompozicija_primer1} in \ref{graf_kompozicija_primer2}). Če je $H_i$ fiksen graf $H$, potem kompozicijo označimo z $G(H)$. 
\end{definicija}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                    \node[vertex] (V-0) at (1, 0){$1_{P_2}$};
                    \node[vertex] (V-1) at (0, 1){$2_{P_2}$};
        
                    \node[vertex] (V-2) at (2, 3){$3_{P_3}$};
                    \node[vertex] (V-3) at (3, 3){$4_{P_3}$};
                    \node[vertex] (V-4) at (4, 3){$5_{P_3}$};
                    
                    \node[vertex] (V-5) at (5, 0){$6_{P_1}$};
                    
                \foreach \from/\to in {0/1, 2/3, 3/4, 0/2, 0/3, 0/4, 1/2, 1/3, 1/4, 2/5, 3/5, 4/5}
                    \draw (V-\from) -- (V-\to);
        \end{tikzpicture}
    \end{center}
    \caption{Graf $P_3(P_2, P_3, P_1)$.}
    \label{graf_kompozicija_primer1}
\end{figure}

Vsota grafov $L$ in $M$, označena z $L + M$, je sestavljena iz disjunktne unije grafov $L$ in $M$ ter dodanih povezav $ab$, kjer $a \in V(L)$ in $b \in V(M)$. Se pravi, kompozicija $G(H_1, H_2, ..., H_n)$ je sestavljena iz disjunktne unije grafov $H_i$ in potem iz vsote $H_i + H_j$ za vsako pripadajočo povezavo $x_ix_j \in E(G)$.

\begin{izrek}
\label{izrek_konstrukcija_permutacijskega_grafa}
    Naj bo $G$ graf z $n$ vozlišči in naj bodo $H_1, H_2, ..., H_n$ poljubni grafi. Potem je $G(H_1, H_2, ..., H_n)$ permutacijski graf natanko tedaj, ko so $G, H_1, H_2, ..., H_n$ permutacijski grafi.
\end{izrek}
\begin{dokaz}
    $(\Rightarrow)$ Privzamimo, da je $G(H_1, H_2, ..., H_n)$ permutacijski graf. Ker so $H_1, H_2, ..., H_n$ inducirani podgrafi grafa $G(H_1, H_2, ..., H_n)$, so permutacijski grafi po izreku \ref{izrek_ekvivalentne_trditve_permutacijski_graf}. Prav tako lahko vzamemo eno vozlišče iz vsakega od grafov $H_i$ in ga označimo z $x_i$. Tako dobimo induciran podgraf izomorfen grafu $G$. To pomeni, da je tudi $G$ permutacijski. 
    
    $(\Leftarrow)$ Obratno privzamemo, da so $G, H_1, H_2, ..., H_n$ permutacijski grafi. Potem je $(v_1, v_2, ..., v_n)$ kohezivno zaporedje grafa $G$. Grafe $H_1, H_2, ..., H_n$ ustrezno preimenujemo tako, da je graf, ki pripada vozlišču $v_1$, poimenovan $H_1$, graf, ki pripada vozlišču $v_2$, poimenovan $H_2$, ..., graf, ki pripada vozlišču $v_n$, poimenovan $H_n$. Z $n_i$ označimo število vozlišč grafa $H_i$. Potem ima graf $H_i$ kohezivno zaporedje $l_i = (x_1^i, x_2^i, ..., x_{n_i}^i)$. Se pravi je 
    \[
        l = (l_1, l_2, ..., l_n) = (x_1^1, x_2^1, ..., x_{n_1}^1, x_1^2, x_2^2, ..., x_{n_2}^2, ..., x_1^n, x_2^n, ..., x_{n_n}^n)
    \]
    kohezivno zaporedje grafa $G(H_1, H_2, ..., H_n)$ in $G(H_1, H_2, ..., H_n)$ je permutacijski graf.
\end{dokaz}

Izrek \ref{izrek_konstrukcija_permutacijskega_grafa} nam podaja enostaven način konstrukcije permutacijskih grafov. Naj bo $G$ polni graf $K_3$. Poglejmo si kompozicijo $K_3(P_2, C_3, P_1)$ (slika \ref{graf_kompozicija_primer2}). Ker so $K_3, P_2, C_3, P_1$ polni grafi dobimo polni graf $K_6$.

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                    \node[vertex] (V-0) at (1.5, 0){$1_{P_2}$};
                    \node[vertex] (V-1) at (-0.5, 1){$2_{P_2}$};
        
                    \node[vertex] (V-2) at (2, 2){$3_{C_3}$};
                    \node[vertex] (V-3) at (3, 3){$4_{C_3}$};
                    \node[vertex] (V-4) at (4, 2){$5_{C_3}$};
                    
                    \node[vertex] (V-5) at (4.5, 0){$6_{P_1}$};
                    
                \foreach \from/\to in {0/1, 2/3, 3/4, 4/2, 0/2, 0/3, 0/4, 1/2, 1/3, 1/4, 2/5, 3/5, 4/5, 0/5, 1/5}
                    \draw (V-\from) -- (V-\to);
        \end{tikzpicture}
    \end{center}
    \caption{Graf $K_3(P_2, C_3, P_2)$.}
    \label{graf_kompozicija_primer2}
\end{figure}

Vsi grafi na največ $4$ vozliščih so permutacijski grafi. Zato sta grafa $P_3(P_2, P_3, P_1)$ in $K_3(P_2, C_3, P_1)$ permutacijska (sliki \ref{graf_kompozicija_primer1} in \ref{graf_kompozicija_primer2}).

Vsak graf $G$ z $n$ vozlišči se lahko zapiše kot $G(\overset{n}{\overline{P_1, ..., P_1}})$ in $K_1(G)$. Če sta to edina načina za zapis grafa $G$ kot kompozicija, potem je graf primaren.

Med polnimi grafi sta primarna samo grafa $K_1$ in $K_2$.

Med drevesi s premerom, ki ni večji od 3 (slika \ref{graf_dreves_premer_leq3}), lahko pokažemo, da so primarni grafi samo poti $P_1, P_2$ in $P_4$. To so vse gosenice, ki nimajo dveh listov z istim sosednjim vozliščem. Graf $P_3$ ni primaren, saj ima dva lista, ki imata isto sosednje vozlišče. Poleg trivialnih kompozicij ima pot na treh vozliščih tudi kompozicijo $P_3 = P_2(P_1, \overline{K_2})$ (slika \ref{graf_P3_graf_kompozicije_P3_P1_P1_P1_K2c}).

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                \node[vertex] (V-1) at (0, 0){};
        
                \node[vertex] (V-2) at (6, 0){};
                \node[vertex] (V-3) at (6, 2){};
                
                \node[vertex] (V-4) at (2, 2){};
                \node[vertex] (V-5) at (4, 3){};
                \node[vertex] (V-6) at (4, 1){};
                
                \node[vertex] (V-7) at (0, 4){};
                \node[vertex] (V-8) at (0, 6){};
                \node[vertex] (V-9) at (2, 5){};
                \node[vertex] (V-10) at (4, 5){};
                \node[vertex] (V-11) at (6, 4){};
                \node[vertex] (V-12) at (6, 6){};
                    
                \foreach \from/\to in {2/3, 4/5, 4/6, 7/9, 8/9, 9/10, 10/11, 10/12}
                    \draw (V-\from) -- (V-\to);
        
                    
                \filldraw [black] (4,1.8) circle (1pt);
                \filldraw [black] (4,2) circle (1pt);
                \filldraw [black] (4,2.2) circle (1pt);
        
                \filldraw [black] (0,4.8) circle (1pt);
                \filldraw [black] (0,5) circle (1pt);
                \filldraw [black] (0,5.2) circle (1pt);
                \filldraw [black] (6,4.8) circle (1pt);
                \filldraw [black] (6,5) circle (1pt);
                \filldraw [black] (6,5.2) circle (1pt);
        \end{tikzpicture}
    \end{center}
    \caption{Grafi dreves s premerom $\leq 3$.}
    \label{graf_dreves_premer_leq3}
\end{figure}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                \node[vertex] (V-1) at (2, 1){};
                \node[vertex] (V-2) at (4, 2){};
                \node[vertex] (V-3) at (4, 0){};
        
                \foreach \from/\to in {1/2, 1/3}
                    \draw (V-\from) -- (V-\to);
        \end{tikzpicture}\qquad
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                
                \node[vertex] (V-1) at (0, 1){};
                \node[vertex] (V-2) at (2, 1){};
                \node[vertex] (V-3) at (4, 1){};
                \node[vertex] (V-4) at (6, 0){};
                \node[vertex] (V-5) at (6, 2){};
                    
                \foreach \from/\to in {1/2, 2/3, 3/4, 3/5}
                    \draw (V-\from) -- (V-\to);            
        \end{tikzpicture}
    \end{center}
    \caption{Neprimarna grafa $P_3 = P_2(P_1, \overline{K_2})$ in $P_3(P_1, P_1, P_1, \overline{K_2})$.}
    \label{graf_P3_graf_kompozicije_P3_P1_P1_P1_K2c}
\end{figure}

\begin{izrek}
    Drevo je primaren permutacijski graf natanko tedaj, ko je gosenica brez dveh listov z istim sosednjim vozliščem.
\end{izrek}
\begin{dokaz}
    Ker smo že pogledali drevesa s premeri, ki ne presegajo $3$, privzamimo, da imamo drevo $T$ s premerom vsaj $4$. 
    
    $(\Rightarrow)$ Naj bo $T$ drevo z $n$ vozlišči. Privzemimo, da je $T$ primaren permutacijski graf. Po izreku \ref{izrek_gosenica_permutacijski_graf} je $T$ gosenica. Predpostavimo, da imamo dva lista $x_1$ in $x_2$ z istim sosedom $y$. Naj bo $G$ graf, ki ga dobimo, če identificiramo ti dve vozlišči ($x_1$ in $x_2$ zamenjamo z enim listom $y_1$, ki je povezan s sosedom vozlišč $x_1$ in $x_2$). Naj bodo $y_1, y_2, ..., y_{n-1}$ vozlišča grafa $G$. Recimo, da je $y_1$ vozlišče pridobljeno z identifikacijo vozlišč $x_1$ in $x_2$. Naj bo $H_1 = \overline{K_2}$ in $H_i$ trivialen graf za $i = 2, 3, ..., n-1$. Potem je $T = G(H_1, H_2, ..., H_n)$. To je v protislovju s tem, da je $T$ primaren. 
    
    $(\Leftarrow)$ Privzemimo zdaj, da je $T$ gosenica brez dveh listov z istim sosednim vozliščem, in predpostavimo, da $T$ ni primaren permutacijski graf. Potem je za nek netrivialen graf $G$ z vozlišči $y_1, y_2, ..., y_k$ $T = G(H_1, H_2, ..., H_k)$. Brez izgube splošnosti lahko privzamemo, da ima $H_1$ vsaj $2$ vozlišči. Ker je drevo $T$ povezan graf, mora biti tudi graf $G$ povezan. Zato mora $y_1$ imeti soseda. Privzemimo, da sta $y_1$ in $y_2$ sosednji vozlišči. Potem je $H_1 + H_2$ podgraf grafa $T$. Če bi $H_2$ imel vsaj $2$ vozlišči, bi graf $H_1 + H_2$ vseboval cikel, kar je v protislovju s tem, da je $T$ drevo. Torej ima $H_2$ samo eno vozlišče. Če bi $y_1$ imel še kakšnega soseda v grafu $G$, bi graf $T$ tako imel cikel dolžine $4$. Prav tako v $H_1$ ne sme biti povezav, saj bi tako podgraf $H_1 + H_2$ vseboval cikel dolžine $3$. Ampak potem so vsa vozlišča grafa $H_1$ listi grafa $T$ s skupnim sosedom, ki je edino vozlišče grafa $H_2$. To je v protislovju s predpostavko, da je $T$ gosenica brez dveh listov z istim sosedom. Torej je $T$ primaren permutacijski graf.
\end{dokaz}

\begin{izrek}
    Naj bo $G$ sestavljen permutacijski graf. Potem obstajajo takšni netrivialen primaren permutacijski graf $U$ in permutacijski grafi $H_1, H_2, ..., H_k$, ki so podgrafi grafa $G$, da je $G = U(H_1, H_2, ..., H_k)$.
\end{izrek}
\begin{dokaz}
    Naj bo $G = U(H_1, H_2, ..., H_k)$, kjer je $U$ netrivialen. Če vzamemo eno vozlišče $x_i$ iz vsakega izmed $H_i$, potem je induciran podgraf izomorfen grafu $U$. Zato mora biti $U$ permutacijski po izreku \ref{izrek_ekvivalentne_trditve_permutacijski_graf}. Prav tako so grafi $H_i$ permutacijski, saj so inducirani podgrafi grafa $G$. Privzemimo, da ima $U$ najmanjše število vozlišč med vsemi takimi kompozicijami. Dokazali bi radi, da je $U$ primaren. Privzemimo, da $U$ ni primaren. Naj bo $U = V(L_1, L_2, ..., L_p)$ kompozicija, kjer je $V$ netrivialen. Ker je $U$ kompozicija in vozlišča grafa $U$ predstavljajo inducirane podgrafe $H_i$ v grafu $G$, potem vsak $L_i$ predstavlja neko podmnožico $A_i \subset \{ H_1, H_2, ..., H_k \}$. $A_i$ je tako tudi induciran podgraf grafa $G$. Zato je $G = V(A_1, A_2, ..., A_p)$. Ampak to predstavlja protislovje z izborom grafa $U$. Torej je $U$ primaren.
\end{dokaz}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{ Tekmovalnostni grafi }

Tekmovalnostni grafi so razširitev permutacijskih grafov v smislu, da je vsak tekmovalnostni graf, ki je generiran z dvema permutacijama $\pi$ in $\sigma$ izomorfen ravno permutacijskemu grafu permutacije $\pi^{-1} \circ \sigma$. 

V tem poglavju bomo spoznali kaj so rangiranja, tekmovalnostni grafi, primerljivostni grafi, množice tekmovalcev, množice posrednih in neposrednih tekmovalcev. Nato si bomo ogledali algoritem za izračun množice posrednih in neposrednih tekmovalcev ter kako lahko množice posrednih in neposrednih tekmovalcev uredimo. Na koncu si bomo pogledali še primer na resničnih podatkih.

\section{ Tekmovalnostni grafi ter množice posrednih in neposrednih tekmovalcev }

\begin{definicija}
    Rangiranje $c = (i_1, ..., i_n)$ množice $[n]$ je permutacija iz $S_n$. Pisali bomo $i \prec_c j$, kadar se vozlišče $i$ pojavi pred vozliščem $j$ v vektorju rangiranja $c$, to je, ko $c^{-1}(i) < c^{-1}(j)$. Zato rangiranje $c$ definira zaporedje (urejenost) množice $[n]$:
    \[
        c(1) = i_1 \prec_c c(2) = i_2 \prec_c \cdot\cdot\cdot \prec_c c(n) = i_n.
    \]
\end{definicija}

\begin{definicija}
\label{def_tekmovalnosti}
    Naj bo $R = \{c_1, c_2, ..., c_r\}$ končna množica rangiranj. Potem rečemo, da par vozlišč $(i, j) \in [n] \times [n]$ (neposredno) tekmuje, če obstajata takšni rangiranji $c_s, c_t \in R$, da je $i \prec_{c_s} j$ ampak $j \prec_{c_t} i$, to je $i$ in $j$ zamenjata svoji relativni poziciji v rangiranjih $c_s$ in $c_t$ (slika \ref{tekmovalnost_ij}).

    Tekmovalnost med dvema vozliščema $i, j \in [n]$ je močno povezano z dejstvom, da je $(i, j)$ inverzija rangiranja množice. Spomnimo se, da je inverzija v rangiranju $c$ par vozlišč $(i, j)$ tako, da je $(i-j)(c^{-1}(i) - c^{-1}(j)) < 0$.
\end{definicija}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black!0,fill=white!25,minimum size=20pt,inner sep=0pt]
            
            \node[vertex] (V-cs) at (0, 1) {$c_s:$};
            \node[vertex] (V-ct) at (0, 0) {$c_t:$};

            \foreach \num/\x in {1/1, 2/2, i/3, j/4, n/5}
                \node[vertex] (V-\num) at (\x, 1) {$\num$};
            \foreach \num/\x in {1/1, 2/2, j/3, i/4, n/5}
                \node[vertex] (VV-\num) at (\x, 0) {$\num$};
        
            \foreach \from/\to in {1/1, 2/2, i/i, j/j, n/n}
                \draw[-latex] (V-\from) -- (VV-\to);

                
            \filldraw [black] (2.4, 0) circle (.2pt);
            \filldraw [black] (2.5, 0) circle (.2pt);
            \filldraw [black] (2.6, 0) circle (.2pt);
            \filldraw [black] (2.4, 1) circle (.2pt);
            \filldraw [black] (2.5, 1) circle (.2pt);
            \filldraw [black] (2.6, 1) circle (.2pt);
            \filldraw [black] (3.5, 0) circle (.2pt);
            \filldraw [black] (3.4, 0) circle (.2pt);
            \filldraw [black] (3.6, 0) circle (.2pt);
            \filldraw [black] (3.4, 1) circle (.2pt);
            \filldraw [black] (3.5, 1) circle (.2pt);
            \filldraw [black] (3.6, 1) circle (.2pt);
            \filldraw [black] (4.4, 0) circle (.2pt);
            \filldraw [black] (4.5, 0) circle (.2pt);
            \filldraw [black] (4.6, 0) circle (.2pt);
            \filldraw [black] (4.4, 1) circle (.2pt);
            \filldraw [black] (4.5, 1) circle (.2pt);
            \filldraw [black] (4.6, 1) circle (.2pt);
        \end{tikzpicture}     
    \end{center}
    \caption{Par vozlišč $(i, j)$ tekmuje.}
    \label{tekmovalnost_ij}
\end{figure}

\begin{figure}[h]
    \begin{center}        
        \begin{tikzpicture}[shorten >=1pt,-]
            \tikzstyle{vertex}=[circle,draw=black!0,fill=white!25,minimum size=20pt,inner sep=0pt]
            
            \node[vertex] (V-c1) at (0, 1) {$c_1:$};
            \node[vertex] (V-cs) at (0, 0) {$c_s:$};
            \foreach \num/\x in {i_1/1, i_2/2, i_3/3}
                \node[vertex] (V-\num) at (\x, 1) {$\num$};
            \foreach \num/\x in {i_2/1, i_3/2, i_1/3}
                \node[vertex] (VV-\num) at (\x, 0) {$\num$};
        
            \foreach \from/\to in {i_1/i_1, i_2/i_2, i_3/i_3}
                \draw[-latex] (V-\from) -- (VV-\to);

            \node[vertex] (V-c1-id) at (5, 1) {$c_1:$};
            \node[vertex] (V-cs-id) at (5, 0) {$c_s:$};
            \foreach \num/\x in {1/1, 2/2, 3/3}
                \node[vertex] (V-\num-id) at (5+\x, 1) {$\num$};
            \foreach \num/\x in {2/1, 3/2, 1/3}
                \node[vertex] (VV-\num-id) at (5+\x, 0) {$\num$};
        
            \foreach \from/\to in {1/1, 2/2, 3/3}
                \draw[-latex] (V-\from-id) -- (VV-\to-id);

        \end{tikzpicture}     
    \end{center}
    \caption{Preimenovanje vozlišč tako, da je $c_1 = id$.}
    \label{preimenovanje_vozlisc_id}
\end{figure}

\begin{lema}
    Če imamo podano končno množico $R = \{ c_1, c_2, ..., c_r \}$ rangiranj, so naslednje trditve ekvivalentne:
    \begin{enumerate}[label=(\roman*)]
        \item Par vozlišč $(i, j)$ tekmuje.
        \item Obstaja tak $c_s \in \{ c_1, ..., c_{r-1} \}$, da $i$ in $j$ zamenjata svoji relativni poziciji med rangiranji $c_s$ in $c_{s+1}$.
        \item Obstaja preimenovanje vozlišč tako, da je $c_1 = id$ (slika \ref{preimenovanje_vozlisc_id}) in nek $c_s \in \{c_2, ..., c_r\}$ z inverzijo $(i, j)$.
    \end{enumerate}
\end{lema}
\begin{dokaz}
    $((ii) \Rightarrow (i))$ To sledi iz definicije \ref{def_tekmovalnosti}. 
    
    $((i) \Rightarrow (iii))$ Preimenujmo vozlišča tako, da bo $c_1 = id$. Naj $i$ in $j$ zamenjata svoji relativni poziciji med rangiranji $c_s$ in $c_t$. Potem je v enem izmed $c_s$ ali $c_t$ inverzija $(i, j)$. 
    
    $((iii) \Rightarrow (ii))$ Preimenujmo vozlišča, tako da $c_1 = id$. Imamo inverzijo $(i, j)$ v $c_s$. Potem $i$ in $j$ zamenjata relativno pozicijo med $c_s$ in $c_{s-1}$ ali pa $c_{s-1}$ prav tako vsebuje inverzijo $(i, j)$ in se zamenjava zgodi prej. To sledi iz dejstva, da je $R$ končna množica.
\end{dokaz}

\begin{definicija}
    Naj bo $R = \{ c_1, c_2, ..., c_r \}$ množica rangiranj množice $[n]$. Definirajmo tekmovalnostni graf množice rangiranj $R$ kot neusmerjen graf $G_c(R) = ([n], E)$, kjer je množica povezav $E$ podana na nasledni način: med $i$ in $j$ je povezava, če $(i, j)$ tekmujeta.
\end{definicija}

\begin{primer}
\label{primer_tekmovalnostni_graf}
    Naj bo $R = \{ c_1, c_2, c_3 \}$ množica rangiranj množice $[4]$.
    \begin{align*}
        c_1 &= (1, 2, 3, 4) \notag\\
        c_2 &= (1, 2, 4, 3) \notag\\
        c_3 &= (3, 1, 2, 4) \notag
    \end{align*}
    Ker je $c_1=id$, so povezave grafa $G_c(R)$ ravno inverzije rangiranj $c_2$ in $c_3$. Rangiranje $c_2$ ima inverzijo $(4, 3)$, medtem ko ima rangiranje $c_3$ inverziji $(3, 1), \ (3, 2)$. Graf $G_c(R)$ je prikazan na sliki \ref{graf_tekmovalnosti_primer}.
    \begin{figure}[h]
        \begin{center}
            \begin{tikzpicture}[shorten >=1pt,-]
                \tikzstyle{vertex}=[circle,draw=black,fill=white!25,minimum size=20pt,inner sep=0pt]
                \foreach \num/\x in {1/1, 2/3, 3/5, 4/7}
                        \node[vertex] (V-\num) at (\x,0) {\num};
            
                    \foreach \from/\to in {2/3, 3/4}
                        \draw (V-\from) -- (V-\to);
                    \draw (V-1) .. controls (1.5, 1) and (4.5, 1) .. (V-3);
            \end{tikzpicture}
        \end{center}
        \caption{Graf tekmovalnosti $G_c(R)$.}
        \label{graf_tekmovalnosti_primer}
    \end{figure}
\end{primer}


\begin{definicija}
    Če vzamemo množico rangiranj $R = \{ c_1, ..., c_r \}$ množice $[n]$ in fiksiramo $i \in [n]$, je tekmovalnostna množica $C(i)$ vozlišča $i$ enaka množici elementov množice $[n]$, ki tekmuje z $i$ vključno z $i$:
    \[
        C(i) = \{ j \in [n] \ | \ (i, j) \ tekmujeta \} \cup \{ i \}.
    \]
\end{definicija}

\begin{primer}
    Naj bo $R$ tak kot v primeru \ref{primer_tekmovalnostni_graf}. Potem je:
    \[
        C(1) = \{ 1, 3 \}, \ C(2) = \{ 2, 3 \}, \ C(3) = \{ 1, 2, 3, 4 \}, \ C(4) = \{ 3, 4 \}.
    \]
\end{primer}

\begin{definicija}
    Naj bo $R = \{ c_1, c_2, ..., c_r\}$ množica rangiranj množice $[n]$. Množici  vozlišč $C \subseteq [n]$ rečemo množica tekmovalcev, če je maksimalna množica glede na lastnost tekmovalnosti svojih elementov. To pomeni, da vsaka dva elementa $i, j \in C$ tekmujeta in $C$ je maksimalna glede na to lastnost.
\end{definicija}

\begin{opomba}
    Množice tekmovalcev so ravno največji polni podgrafi grafa $G_c(R)$. Opazimo, da dve vozlišči tekmujeta natanko tedaj, ko pripadata isti množici tekmovalcev. Še več, lahko preverimo, da je množica vozlišč $C \subseteq [n]$ množica tekmovalcev natanko tedaj, ko je $C = \underset{i \in C}{\cap}C(i)$.
\end{opomba}

\begin{definicija}
    Če vzamemo množico rangiranj $R = \{ c_1, ..., c_r\}$ množice $[n]$, rečemo, da par vozlišč $(i, j) \in [n] \times [n]$ posredno ali neposredno tekmuje, če obstaja tak $k \in \mathbb{N}$ in vozlišča $i_1, ..., i_k \in [n]$, da $(i, i_1)$ tekmujeta, $(i_1, i_2)$ tekmujeta, ..., in $(i_k, j)$ tekmujeta.

    Množici vozlišč $D \subseteq [n]$ rečemo množica posrednih in neposrednih tekmovalcev, če je maksimalna množica glede na lastnost posredne ali neposredne tekmovalnosti med svojimi elementi.
\end{definicija}

\begin{opomba}
    Očitno je, da, če par vozlišč $(i, j)$ tekmuje, potem tudi posredno ali neposredno tekmuje. Še več par $(i, j)$ posredno ali neposredno tekmuje natanko tedaj, ko sta $i$ in $j$ povezana s potjo v grafu $G_c(R)$. Opazimo, da so množice posrednih ali neposrednih tekmovalcev iz $[n]$ povezane komponente grafa $G_c(R)$ in dve vozlišči posredno ali neposredno tekmujeta natanko tedaj, ko pripadata isti množici posrednih in neposrednih tekmovalcev. Seveda dve vozlišči, ki pripadata različnim množicam posrednih in neposrednih tekmovalcev, ne moreta tekmovati.
\end{opomba}

\begin{definicija}
    Delno urejeni množici $(N, \preceq)$ lahko priredimo usmerjen graf $G_{\preceq}$ tako, da je množica vozlišč enaka $N$, vozlišči $i$ in $j$ pa sta povezani, če $i \neq j$ in $i \preceq j$.
    Graf $G = (N, E)$ je primerljivostni graf, če je neusmerjen graf pridobljen po odstranitvi orientacije grafa $G_{\preceq}$ za neko delno urejenost $\preceq$  množice $N$.
\end{definicija}
Graf $G = (N, E)$ je primerljivosten natanko tedaj, ko dopušča tranzitivno orientacijo svojih povezav. To pomeni, da je usmerjen graf $\overset{\rightarrow}{G} = (N, \overset{\rightarrow}{E})$ pridobljen iz $G$ z orientiacijo vseh povezav v $E$, tako da če sta $(i, j), (j, k) \in \overset{\rightarrow}{E}$, potem je $(i, k) \in \overset{\rightarrow}{E}$.

Uporabna karakterizacija permutacijskih grafov je dejstvo, da sta $G$ in $\overline{G}$ primerljivostna grafa, to je, dovoljujeta tranzitivno orientazijo svojih povezav. 

Opazimo, da so permutacijski grafi tako primerljivostni grafi kot tekmovalnostni (imamo dve rangiranji/permutaciji $c_1 = id$ in $c_2$, ki predstavlja permutacijski graf).

\begin{definicija}
    Graf $G$ ima delno kohezivno zaporedje vozlišč (ali enostavneje delno kohezivno zaporedje), če obstaja takošno preimenovanje vozlišč, da velja $(b)$ iz definicije \ref{def_kohezivno_zaporedje}, to je, če obstaja povezava $ab$, kjer $a < b$, potem mora za vsak $x$, za katerega velja $a < x < b$ obstajati povezava $ax$ ali $xb$. Graf $G$ je delno koheziven, če ima delno kohezivno zaporedje.
\end{definicija}

Medtem, ko je pogoj $(a)$ iz definicije \ref{def_kohezivno_zaporedje} povezan s primerljivostnimi grafi, je pogoj $(b)$ (delna kohezivnost) povezan s tekmovalnostnimi grafi, kot pokaže nasledni izrek.

\begin{izrek}
\label{tekmovalnosni_graf_delno_koheziven}
    Vsak tekmovalnostni graf je delno koheziven.
\end{izrek}
\begin{dokaz}
    Naj bo $G_c(R)$ tekmovalnostni graf, ki je generiran z množico rangiranj $R$. Brez izgube splošnosti privzemimo, da rangiranje $id \in R$. Naj bo $ab \in E(G_c(R))$, kjer $a < b$ in $x \in [n]$ tak, da je $a < x < b$. Ker je $ab$ povezava, vozlišči $(a, b)$ tekmujeta. To pomeni, da obstaja tako rangiranje $c_m \in R$, da je $b \prec_{c_m} a$. Če $x \prec_{c_m} a$, potem tekmujeta $(x, a)$ in je $ax \in E(G_c(R))$, v nasprotnem primeru je $b \prec_{c_m} a \prec_{c_m} x$, kar pomeni, da tekmujeta $(b, x)$ in $xb \in E(G_c(R))$.
\end{dokaz}

\begin{domneva}
    Izrek \ref{tekmovalnosni_graf_delno_koheziven} je karakterizacija tekmovalnostnih grafov, to pomeni $G$ je tekmovalnostni graf natanko tedaj, ko ima delno kohezivno zaporedje.
\end{domneva}

\section{ Algoritem za izračun množice posrednih in neposrednih tekmovalcev }

\begin{lema}
\label{lema_algoritem_posredni_tekmovalci_1}
    Naj bo $R = \{ c_1, ..., c_r \}$ množica rangiranj množice $[n]$. Če je $D \subseteq [n]$ množica posrednih in neposrednih tekmovalcev in $a, b \in D$, potem za vsak $x \in [n]$ in vsako rangiranje $c_m \in R$ tako, da je $a \prec_{c_m} x \prec_{c_m} b$, sledi $x \in D$.
\end{lema}
\begin{dokaz}
    Če vozlišči $(a, b)$ tekmujeta, potem zaradi delne kohezivnosti tekmovalnostnega grafa tekmujeta tudi $(a, x)$ ali $(x, b)$, se pravi $x \in D$. Če vozlišči $(a, b)$ ne tekmujeta, potem obstaja tak $k \in \mathbb{N}$ in vozlišča $i_1, ..., i_k \in [n]$, da $(a, i_1)$ tekmujeta, $(i_1, i_2)$ tekmujeta, ... in $(i_k, b)$ tekmujeta, saj sta $a,b \in D$. Če $a \prec_{c_m} x \prec_{c_m} i_1$, potem $x \in D$, ker $(a, i_1)$ tekmujeta. V nasprotnem primeru je $i_1 \prec_{c_m} x \prec_{c_m} b$. Če $i_1 \prec_{c_m} x \prec_{c_m} i_2$, potem $x \in D$, ker $(i_1, i_2)$ tekmujeta. V nasprotnem primeru je $i_2 \prec_{c_m} x \prec_{c_m} b$... Če $i_{k-1} \prec_{c_m} x \prec_{c_m} i_k$, potem $x \in D$, ker $(i_{k-1}, i_k)$ tekmujeta. V nasprotnem primeru je $i_k \prec_{c_m} x \prec_{c_m} b$. Ker $(i_k, b)$ tekmujeta, sledi $x \in D$.
\end{dokaz}

\begin{primer}
    Naj bo $R = \{ c_1, c_2, c_3\}$ množica rangiranj $[5]$.
    \begin{align}
        c_1 &= (1, 2, 3, 4, 5) \notag\\
        c_2 &= (2, 1, 3, 4, 5) \notag\\
        c_3 &= (1, 4, 2, 3, 5) \notag
    \end{align}
    Vidimo, da par $(4, 1)$ posredno tekmujeta, saj $(1, 2)$ in $(2, 4)$ tekmujeta, zato sta v isti množici posrednih in neposrednih tekmovalcev. Ker je $3 \in [5]$ in $1 \prec_{c_1} 3 \prec_{c_1} 4$, je tudi $3$ v isti množici posrednih in neposrednih tekmovalcev. To je res, saj $2 \prec_{c_1} 3 \prec_{c_1} 4$ in $(2, 4)$ tekmujeta, iz delne kohezivnost sledi, da tekmujeta tudi $(2, 3)$ ali $(3, 4)$. Vidimo, da par $(3, 4)$ res tekmuje.
\end{primer}

\begin{lema}
\label{lema_algoritem_posredni_tekmovalci_2}
    Naj bo $R = \{ c_1, ..., c_r \}$ množica rangiranj množice $[n]$. Če je $D \subseteq [n]$ množica posrednih in neposrednih tekmovalcev ter obstajata taka $a \in D$ in  $c_m \in R$, da je $c_m^{-1}(a) = 1$ (element $a$ se pojavi na prvi poziciji v rangiranju $c_m$), potem 
    \[
        \{ x \in [n] \ | \ c_s^{-1}(x) = 1 \ za \ nek \ c_s \in R \} \subseteq D.    
    \]
    To pomeni, da vsi elementi na prvi poziciji rangiranj iz $R$ pripadajo $D$.
\end{lema}
\begin{dokaz}
    Če $c_m \neq c_s$,  $a \neq x$ in $c_m^{-1}(a) = 1 = c_s^{-1}(x)$, potem je $a \prec_{c_m} x$ in $x \prec_{c_s} a$, se pravi $(a, x)$ tekmujeta in $x \in D$. 
\end{dokaz}

\begin{izrek}
    Naj bo $R = \{ c_1, ..., c_r \}$ množica rangiranj vozlišč $[n]$. Množico posrednih in neposrednih tekmovalcev lahko identificiramo z zaprtimi intervali naravnih števil $[p, q]$ na naslednji način: 
    \[
        D_{[p, q]} = \{ x \in [n] \ | \ c_s^{-1}(x) \in [p, q] \ za \ nek \ c_s \in R\}.
    \]
    Še več, $p$ in $q$ sta prvi na levi in zadnji na desni poziciji elementov iz $D_{[p, q]}$ glede na vsa rangiranja.
\end{izrek}
\begin{dokaz}
    Pokazali bomo, da ima vsaka množica posrednih in neposrednih tekmovalcev obliko $D_{[p, q]}$ za neki naravni števili $p$ in $q$. Naj bo $a \in [n]$, $c_m \in R$ tako, da $c_m^{-1}(a) = 1$, in naj bo $D$ množica posrednih in neposrednih tekmovalcev, ki vsebuje $a$. Iz leme \ref{lema_algoritem_posredni_tekmovalci_2} sledi, da je 
    \[ 
        D_{[1,1]} = \{ x \in [n] \ | \ c_s^{-1}(x) = 1 \ za \ nek \ c_s \in R \} \subseteq D.
    \] 
    Defirajmo 
    \[
        D_{[1, p_k]} = \{ x \in [n] \ | \ c_s^{-1}(x) \in [1, p_k] \ za \ nek \ c_s \in R\}
    \] 
    in naj bo $p_{k+1}$ zadnja pozicija (na desni) vseh elementov $D_{[1, p_k]}$ v vseh rangiranjih. Trdimo, da če $D_{[1, p_k]} \subseteq D$ in 
    \[
        D_{[1, p_{k+1}]} = \{ x \in [n] \ | \ c_s^{-1}(x) \in [1, p_{k+1}] \ za \ nek \ c_s \in R\},
    \] 
    potem je $D_{[1, p_{k+1}]} \subseteq D$. Naj bo $x \in [n]$ z $c_s^{-1}(x) \in [1, p_{k+1}]$ za nek $c_s$. Potem je $c_s^{-1}(x) \in [1, p_k]$ in $x \in D_{[1, p_k]} \subseteq D$ (po predpostavki) ali pa je $c_s^{-1} \in [p_k + 1, p_{k+1}]$. V tem primeru naj bo $b$ element $D_{[1,p_k]}$, ki se pojavi na poziciji $p_{k+1}$ v nekem rangiranju $c_{m_b}$, to pomeni $c_{m_b}^{-1}(b) = p_{k+1}$. Če $x \prec_{c_{m_b}} b$, potem je po lemi \ref{lema_algoritem_posredni_tekmovalci_1} $x \in D$. Zato predpostavimo, da je $b \prec_{c_{m_b}} x$. Vsi elementi levo od $b$ v rangiranju $c_{m_b}$ pripadajo množici $D$ po lemi \ref{lema_algoritem_posredni_tekmovalci_1}. Naj bo teh elementov $t$. Če je $x \prec_{c_s} b$, potem $(c, b)$ tekmujeta in $x \in D$. Zato predpostavimo, da $b \prec_{c_s} x$. Na levi od $x$ v rangiranju $c_s$ je tako največ $t$ elementov, ampak en od njih je $b$, kar pomeni, da obstaja element $z$, za katerega velja $z \prec_{c_{m_b}} b \prec_{c_{m_b}} x$ in $b \prec_{c_s} x \prec_{c_s} z$. To pomeni, da $(x, z)$ tekmujeta, zato $x \in D$.

    Ker je $[n]$ končna množica in $D_{[1, p_m]} \in [n]$, se veriga množic 
    \[
        D_{[1, 1]} \subset D_{[1, p_1]} \subset D_{[1, p_2]} \subset \cdot\cdot\cdot    
    \]
    stabilizira za nek $D_{[1, p_m]} \subseteq D$. Še več $D \subseteq D_{[1, p_m]}$: po hipotezi je $a \in D$, zato za vsak drug elemet $x \in D$ obstaja takšno končno število elementov $a_1, a_2, ..., a_k$, da $(a, a_1),(a_1, a_2), ..., (a_k, x)$ tekmujejo. Zaradi dejstva, da je $a \in D_{[1, 1]}$ in $(a, a_1)$ tekmujeta, dobimo, da je $a_1 \in D_{[1, p_1]}$, podobno ker $a_1 \in D_{[1, p_1]}$ in $(a_1, a_2)$ tekmujeta, dobimo, da je $a_2 \in D_{[1, p_2]}$, ... in ker $a_{k} \in D_{[1, p_k]}$ in $(a_k, x)$ tekmujeta, dobimo, da je $x \in D_{[1, p_{k+1}]} \subseteq D_{[1, p_m]}$.

    Izbrišimo elemente iz $[n]$, ki se pojavijo v $D$, in ponovimo postopek, da odkrijemo ostale množice posrednih in neposrednih tekmovalcev.
\end{dokaz}

\begin{primer}
     Naj bo $R = \{ c_1, c_2, c_3\}$ množica rangiranj $[5]$.
    \begin{align}
        c_1 &= (1, 2, 3, 4, 5) \notag\\
        c_2 &= (2, 1, 3, 4, 5) \notag\\
        c_3 &= (1, 4, 2, 3, 5) \notag
    \end{align}
    Poiščimo množice posrednih in neposrednih tekmovalcev. Najprej si poglejmo množico posrednih in neposrednih tekmovalcev $D_1$, ki vsebuje elemente, ki se v vsaj enem rangiranju pojavijo na prvem mestu.
    \[
        D_{[1,1]} = \{ x \in [n] \ | \ c_s^{-1}(x) = 1 \ za \ nek \ c_s \in R \} = \{ 1, 2 \} \subseteq D_1
    \]
    Elementa $1$ in $2$ se v rangiranjih nahajata na $1., 2.$ in $3.$ mestu. Ker je $max\{ 1, 2, 3\} = 3$, si sedaj poglejmo $D_{[1, 3]}$.
    \[
        D_{[1,1]} \subset D_{[1,3]} = \{ x \in [n] \ | \ c_s^{-1}(x) \in [1, 3] \ za \ nek \ c_s \in R \} = \{ 1, 2, 3, 4\} \subseteq D_1
    \]
    Elementi $1, 2, 3$ in $4$ se v rangiranjih nahajajo na $1., 2., 3.$ in $4.$ mestu. Ker je $max\{ 1, 2, 3, 4\} = 4$, si sedaj poglejmo $D_{[1, 4]}$.
    \[
        D_{[1,3]} = D_{[1,4]} = \{ x \in [n] \ | \ c_s^{-1}(x) \in [1, 4] \ za \ nek \ c_s \in R \} = \{ 1, 2, 3, 4\} = D_1
    \]
    Vidimo, da se je veriga stabilizirala in je $D_1 = D_{[1, 4]} = \{ 1, 2, 3, 4\}$. Sedaj si poglejmo množico posrednih in neposrednih tekmovalcev $D_2$, ki vsebuje vse elemente, ki se v vsaj enem rangiranju pojavijo na $5.$ mestu ($5 = 4 + 1$).
    \[
        D_{[5,5]} = \{ x \in [n] \ | \ c_s^{-1}(x) = 5 \ za \ nek \ c_s \in R \} = \{ 5 \} \subseteq D_2
    \]
    Element $5$ se v rangiranjih vedno nagaja na $5.$ mestu. Ker $max\{ 5 \} = 5$, se nam zgorna meja ne poveča. Zato je $D_2 = D_{[5, 5]} = \{ 5 \}$.
\end{primer}

Dokaz zadnjega izreka nam podaja algoritem za izračun množice posrednih in neposrednih tekmovalcev direktno iz množice rangiranj brez predhodnega izračuna tekmovalnostnega grafa.

\begin{minipage}{\linewidth}    
\begin{lstlisting} [language=Matlab, numbers=left, stepnumber=1, numbersep=10pt, tabsize=4, showspaces=false, showstringspaces=false]
    Psevdo koda algoritma za izračun množic 
    posrednih in neposrednih tekmovalcev:

    Vhod:
    $N = \{1, ..., n \}$ končna množica vozlišč
    $R = \{c_1, ..., c_r \}$ končna množica rangiranj
    
    begin
        $j:= 1$;
        $p_0 := 0$;
        $p_j := 1$;
        while $|N| > 0$ do
            $D_j := \emptyset$;
            $q_0 := p_{j-1}$;
            $q_1 := p_j$;
            $i := 0$;
            while $q_i \neq q_{i+1}$ do
                $i := i + 1$;
                Construct $D_j := D_{[p_j, q_i]}$;
                $q_{i+1} := \underset{x \in D_j, c \in R}{max} c^{-1}(x)$;
            end
            $N := N \setminus D_j$;
            $j := j + 1$;
            $p_j := q_i + 1$;
        end
    end
    
    Izhod: 
    Množice posrednih in neposrednih 
    tekmovalcev $D_1, ..., D_k$
\end{lstlisting}
\end{minipage}

\begin{definicija}
    Naj bo $R = \{ c_1, ..., c_r \}$ množica $r$ rangiranj $(r \geq 2)$ množice $[n]$. Definirajmo usmerjen graf $G_d(R)$  na naslednji način:
    \begin{enumerate}[label=(\roman*)]
        \item Vozlišča grafa $G_d(R)$ so elementi množice $[n]$.
        \item Če $i, j \in [n]$, $i \neq j$ potem je $(i, j)$ usmerjena povezava v grafu $G_d(R)$, če obstaja takšno rangiranje $c_m \in R$, da je $i \preceq_{c_m} j$.
    \end{enumerate}
\end{definicija}

\begin{opomba}
    Opazimo, da se usmerjen graf $G_d(R)$ sklada z usmerjenim grafom $G_{\preceq}$, ki ga definiramo z (refleksivno in antisimetrično) relacijo $\preceq$ podano z:
    \begin{enumerate}[label=(\roman*)]
        \item $i \preceq i$ za vsak $i \in [n]$
        \item $i \preceq j$ $(i,j \in [n], i \neq j)$, če obstaja takšno rangiranje $c_m \in R$, da je $i \preceq_{c_m} j$.
    \end{enumerate}
    Tekmovalnostni graf $G_c(R)$ se sklada z neusmerjenim grafom z enakimi vozlišči kot graf $G_d(R)$ in povezavami med $(i, j)$, kadar sta usmerjeni povezavi $(i, j), (j, i) \in E(G_d(R))$.
\end{opomba}

\begin{trditev}
\label{trditev_ekvivalenc_mnozic_posrednih_tekmovalcev}
    Naj bosta $D_1$ in $D_2$ dve različni množici posrednih in neposrednih tekmovalcev. Naslednji trditvi o usmerjenem grafu $G_d(R)$ sta ekvivalentni:
    \begin{enumerate}[label=(\roman*)]
        \item Obstaja takšna usmerjena povezava $(a, b)$, da je $a \in D_1$ in $b \in D_2$.
        \item Vsa vozlišča iz $D_1$ imajo usmerjeno povezavo proti vsem vozliščem iz $D_2$.
    \end{enumerate}
\end{trditev}
\begin{dokaz}
    $(ii) \Rightarrow (i)$ To je vedno res.

    \begin{enumerate}
        \item Pokazali bomo, da, če je $a \in D_1$, $b_1, b_2 \in D_2$, par $(b_1, b_2)$ tekmuje in obstaja usmerjena povezava od $a$ do $b_1$, potem obstaja usmerjena povezava od $a$ do $b_2$. Po hipotezi obstaja takšno rangiranje $c_m$, da je $a \prec_{c_m} b_1$. Če $a \prec_{c_m} b_2$, potem smo pokazali, kar smo hoteli, sicer $b_2 \prec_{c_m} a \prec_{c_m} b_1$. Ampak, ker $(b_1, b_2)$ tekmujeta, obstaja takšno rangiranje $c_{m'}$, da $b_1 \prec_{c_{m'}} b_2$, in ker $a$ ne tekmuje z $b_1$, mora biti $a \prec_{c_{m'}} b_1 \prec_{c_{m'}} b_2$, kar pomeni, da $(a, b_2)$ tekmujeta. To je protislovje in zato $a \prec_{c_m} b_2$.
        \item Pokazali bomo, da, če je $a \in D_1$, $b \in D_2$ in obstaja usmerjena povezava od $a$ proti $b$, potem za vsak $b' \in D_2$ obstaja povezava od $a$ do $b$. Ker sta $b, b' \in D_2$, obstaja tak $k \in \mathbb{N}$ in $b_1, ..., b_k \in D_2$, da $(b, b_1)$ tekmujeta, $(b_1, b_2)$ tekmujeta, ..., $(b_k, b')$ tekmujeta. Vozlišča $a, b, b_1$ so v takem razmerju kot v koraku $1.$, zato obstaja povezava od $a$ do $b_1$, podobno vozlišča $a, b_1, b_2$, zato obstaja povezava $a$ do $b_2$, ..., podobno vozlišča $a, b_k, b'$, zato obstaja povezava od $a$ do $b'$.
        \item $(i) \Rightarrow (ii)$. Če od elementa $a \in D_1$ obstaja povezava do elementa v $D_2$, potem po koraku $2.$ obstaja povezava od $a$ do vseh elementov v $D_2$. Zdaj fiksirajmo nek element iz $D_2$ in dva elementa iz $D_1$. Uporabimo podoben premislek, kot smo ga v korakih $1$ in $2$ in dobimo, da obstaja povezava od vsakega elementa iz $D_1$ do fiksiranega elementa.
    \end{enumerate}
\end{dokaz}

\begin{definicija}
\label{definicija_relacije_mnozic_posrednih_tekmovalcev}
    Naj bo $R = \{ c_1, ..., c_r \}$ množica r rangiranj $(r \geq 2)$ vozlišč $[n]$, katerih množice posrednih in neposrednih tekmovalcev označimo z $D_1, ..., D_k$. Definirajmo binarno relacijo $\rightarrow$ med dvema množicama posrednih in neposrednih tekmovalcev na nasledni način:
    \begin{enumerate}[label=(\roman*)]
        \item $D_i \rightarrow D_i$ za vsako množico posrednih in neposrednih tekmovalcev $D_i$.
        \item za vsaki različni množici $D_i, D_j$ posrednih in neposrednih tekmovalcev, je $D_i \rightarrow D_j$ natanko tedaj, ko velja katerakoli od trditev iz \ref{trditev_ekvivalenc_mnozic_posrednih_tekmovalcev}.
    \end{enumerate}
\end{definicija}

\begin{lema}
    Binarna relacija iz definicije \ref{definicija_relacije_mnozic_posrednih_tekmovalcev} je tranzitivna.
\end{lema}
\begin{dokaz}
    Predpostavimo, da je $D_1 \rightarrow D_2$ in $D_2 \rightarrow D_3$, ampak $D_3 \rightarrow D_1$. Vzamimo vozlišče $x \in D_1$. Ker je $D_3 \rightarrow D_1$, obstaja takšno rangiranje $c_m$ tako, da je $a \prec_{c_m} x$ za vse $a \in D_3$. Še več, ker $D_1 \rightarrow D_2$, $x \prec_{c_m} b$ za vsak $b \in D_2$ in zato $a \prec_{c_m} b$ za vse $a \in D_3$ in $b \in D_2$, kar pomeni $D_3 \rightarrow D_2$. To je protislovje.
\end{dokaz}

\begin{posledica}
    Binarna relacija, podana v definiciji \ref{definicija_relacije_mnozic_posrednih_tekmovalcev}, nam daje linearno urejenost med množicami posrednih in neposrednih tekmovalcev iz $[n]$.
\end{posledica}


\section{Uporaba algoritma na resničnih podatkih}

Poglejmo si sezono 2014 v prvenstvu MotoGP. V tej sezoni je bil najboljši dirkač Marc Márquez. Zmagal je na prvih 10 dirkah sezone. V celi sezoni pa je zmagal na 13 od skupaj 18 dirk. Na 3 dirkah je padel, vendar se je v trenutku padca potegoval za zmago. Poleg tega je bil še enkrat drugi in enkrat četrti. Poleg Marca Márqueza so bili veliko boljši od ostalih še Valentino Rossi, Jorge Lorenzo in Dani Pedrosa. Na stopničkah so bili trije od njih (štirih) na 13 dirkah, vsaj dva na 17 dirkah, vsaj en pa na vseh 18 dirkah te sezone. Opazimo, da so se to sezono izoblikovale vsaj tri kakovostne skupine. V prvi skupini je Marc Márquez, ki je bil to sezono veliko boljši od ostalih. V drugi skupini so Valentino Rossi, Jorge Lorenzo in Dani Pedrosa. V ostalih skupinah pa so ostali dirkači.

Če bi uporabili algoritem za izračun množic posrednih in neposrednih tekmovalcev, kar direktno na rezultatih dirk, bi naleteli na težave. Ena od težav je, da ni na vsaki dirki tekmovalo enako tekmovalcev oziroma ni vsake dirke zaključilo enako število tekmovalcev. Zato rezultati dirk niso iz iste simetrične grupe $S_n$. Poleg tega opazimo, da je Marc Márquez bil na prvem in na zadnjem mestu (je odstopil), iz česar sledi, da tekmuje z vsemi ostalimi dirkači in imamo samo eno množico posrednih in neposrednih tekmovalcev.

Zato bomo izbrali neko podmnožico dirk $A$ in neko podmnožico dirkačev, ki so na vseh dirkah iz podmnožice $A$ dirko zaključili. Tako dobimo $|A|$ rangiranj/permutacij neke simetrične grupe.

Izberimo 5 dirk iz te sezone. $R = \{ c_{arg}, c_{esp}, c_{cat}, c_{ger}, c_{gbr} \}$. Izberimo še vse dirkače, ki so na teh dirkah zaključili dirko. Teh dirkačev je $14$. Uredimo jih relativno glede na to, kako so bili na koncu sezone uvrščeni v skupnem vrstem redu. Tako dobimo dobimo vektor = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14) = (Marc Márquez, Valentino Rossi, Jorge Lorenzo, Dani Pedrosa, Andrea Dovizioso, Pol Espargaró, Aleix Espargaró, Bradley Smith, Stefan Bradl, Scott Redding, Hiroshi Aoyama, Yonny Hernández, Héctor Barberá, Broc Parkes). Sedaj si oglejmo rangiranja teh dirkačev na dirkah iz $R$:
\begin{align}
    c_{arg} &= (1, 4, 3, 2, 9, 8, 6, 5, 11, 12, 10, 7, 13, 14) \notag\\
    c_{esp} &= (1, 2, 4, 3, 5, 7, 8, 6, 9, 11, 10, 12, 13, 14) \notag\\
    c_{cat} &= (1, 2, 4, 3, 9, 7, 6, 5, 8, 12, 10, 11, 14, 13) \notag\\
    c_{ger} &= (1, 4, 3, 2, 7, 6, 5, 10, 11, 9, 12, 13, 8, 14) \notag\\
    c_{gbr} &= (1, 3, 2, 4, 5, 6, 9, 7, 10, 12, 11, 13, 14, 8) \notag
\end{align}
To pomeni, da je bil na dirki v Argentini ($c_{arg}$) prvi Marc Márquez, drugi Dani Pedrosa, tretji Jorge Lorenzo, četrti Valentino Rossi,...

Sedaj poženemo algoritem za izračun množice posrednih in neposrednih tekmovalcev in dobimo naslednje množice posrednih in neposrednih tekmovalcev:
\begin{align}
    D_1 &= \{ 1 \},  \notag\\
    D_2 &= \{ 2, 3, 4 \}, \notag\\
    D_3 &= \{ 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 \}. \notag
\end{align}
Tako vidimo, da so za to izbiro dirk in dirkačev, ki so zaključili te dirke dobimo pričakovane ugotovitve. Torej je Marc Márquez v svoji množici posrednih in neposrednih tekmovalcev, v drugi množici posrednih in neposrednih tekmovalcev so Valentino Rossi, Jorge Lorenzo in Dani Pedrosa. Ostali dirkači pa so v tretji množici posrednih in neposrednih tekmovalcev.

Poglejmo si še en pristop. Dirkače označimo z zaporedno številko glede na to, kako so bili na koncu sezone uvrščeni v skupnem vrstem redu. Tako dobimo dobimo vektor = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29) = (Marc Márquez, Valentino Rossi, Jorge Lorenzo, Dani Pedrosa, Andrea Dovizioso, Pol Espargaró, Aleix Espargaró, Bradley Smith, Stefan Bradl, Andrea Iannone, Álvaro Bautista, Scott Redding, Cal Crutchlow, Hiroshi Aoyama, Yonny Hernández, Nicky Hayden, Karel Abraham, Héctor Barberá, Michele Pirro, Danilo Petrucci, Alex de Angelis, Colin Edwards, Broc Parkes, Michael Laverty, Mike Di Meglio, Katsuyuki Nakasuga, Leon Camier, Michel Fabrizio, Randy de Puniet). Tokrat si za podmnožice dirk izbirajmo po 3 zaporedne dirke in glejmo samo dirkače, ki so na vseh teh 3 dirkah zaključili dirko. Množice posrednih in neposrednih tekmovalcev so v tabeli \ref{tbl:tabelaPosrednihNeposrednihTekmovalcev3}. Ponovno vidimo, da se Marc Márquez velikokrat pojavi v prvi množici posrednih in neposrednih tekmovalcev, kot edini tekmovalec te množice. Dvakrat se nam kot samostojna množica pojavi množica najboljših štirih te sezone. Množice $\{ 24 \}$, $\{ 25 \}$, $\{ 18 \}$, $\{ 23 \}$ nam pokažejo, da nekateri dirkači to sezono niso bili prav zares konkurenčni ostalim dirkačem. Vidimo tudi, da se nam pri praktično vseh izbirah treh dirk ustvari nekaj množic posrednih in neposrednih tekmovalcev (to se ne zgodi samo takrat, ko je Marc Márquez padel, vendar nadeljeval dirko in jo zaključil na 15 oziroma 13 mestu), kar nam pove, da so dirkači v različnih množicah verjetno res različno konkurenčni. Na to seveda vpliva tudi to, da dirkajo na različno dobrih motorjih. 

% \begin{table}
%     \begin{center}
%         \begin{tabular}{ |c|c| } 
%         \hline
%             k=2 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,2] & $\{ 1 \}, \{ 2, 4, 5, 7, 10, 16 \}, \{ 14 \}, \{ 15 \}, \{ 17 \}, \{ 20 \}, \{ 24 \}, \{ 25 \}$ \\ 
%         \hline
%             [2,3] & $\{ 1 \}, \{ 4 \}, \{ 2, 3, 5, 6, 7, 8, 9, 10, 14, 15, 16, 17 \}, \{ 18 \}, \{ 24 \}, \{ 25 \}$\\
%         \hline
%             [3,4] & $\{ 1 \}, \{ 2, 3, 4 \}, \{ 5, 6, 7, 8, 9, 12, 14, 15, 16 \}, \{ 18 \}, \{ 24 \}, \{ 23 \}$\\
%         \hline
%             [4,5] & $\{ 1 \}, \{ 2 \}, \{ 3, 4, 5, 6, 7, 8, 9, 11 \}, \{ 12, 14, 15 \}, \{ 24 \}, \{ 23 \}$\\
%         \hline
%             [5,6] & $\{ 1 \}, \{ 2, 3, 4, 5, 6, 11 \}, \{ 7 \}, \{ 12, 14, 15, 17 \}, \{ 22, 24 \}, \{ 23 \} \{ 25 \}$\\
%         \hline
%             [6,7] & $\{1\}, \{2, 3, 4\}, \{5, 6, 7, 10\}, \{15\}, \{12, 19\}, \{14\}, \{22, 23, 24\}$\\
%         \hline
%             [7,8] & $\{1\}, \{2, 3, 4, 5, 7, 8, 9, 10, 12, 14, 15, 16, 18, 22, 23, 24\}$\\
%         \hline
%             [8,9] & $\{1\}, \{2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 20, 22, 23, 25\}$\\
%         \hline
%             [9,10] & $\{1\}, \{2, 3, 4\}, \{6\}, \{5, 8, 12, 13, 14, 17\}, \{22, 23, 25\}$\\
%         \hline
%             [10,11] & $\{1, 2, 3, 4\}, \{5, 8\}, \{12\}, \{14\}, \{17\}, \{25\}, \{23\}$\\
%         \hline
%             [11,12] & $\{1, 2, 3, 4\}, \{5, 9, 10\}, \{7\}, \{8, 12, 14, 17, 18, 21, 23, 25, 27\}$\\
%         \hline
%             [12,13] & $\{1, 2, 3, 4, 5, 6, 8, 10, 12, 13, 14, 15, 17, 18, 21, 23, 24, 27\}$\\
%         \hline
%             [13,14] & $\{3\}, \{1, 4, 6, 8, 11, 12, 13, 14, 15, 21\}, \{24\}, \{23\}, \{18\}$\\
%         \hline
%             [14,15] & $\{3\}, \{1, 4, 6, 7, 8, 9, 11, 12, 14, 16, 18, 21, 23, 24, 25\}$\\
%         \hline
%             [15,16] & $\{2, 3\}, \{5, 8\}, \{11, 12, 14, 16, 18, 21\}, \{24\}, \{25\}$\\
%         \hline
%             [16,17] & $\{2\}, \{3\}, \{8\}, \{5, 12, 14, 15, 18\}, \{24\}, \{25\}$\\
%         \hline
%             [17,18] & $\{1\}, \{2\}, \{5, 6, 8, 9, 12, 18\}, \{14\}, \{24\}, \{23, 25\}$\\
%         \hline        
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 2 zaporedni dirki. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev2}
% \end{table}

\begin{table}
\begin{center}
    \begin{tabular}{ |c|c| } 
        \hline
            dirke & Množice posrednih in neposrednih tekmovalcev \\ 
        \hline
            [1,3] & $\{1\}, \{2, 4, 5, 7, 10, 14, 15, 16, 17\}, \{24\}, \{25\}$ \\ 
        \hline
            [2,4] & $\{1\}, \{2, 3, 4, 5, 6, 7, 8, 9, 14, 15, 16\}, \{18\}, \{24\}$ \\ 
        \hline
            [3,5] & $\{1\}, \{2, 3, 4, 5, 6, 7, 8, 9, 12, 14, 15\}, \{24\}, \{23\}$ \\ 
        \hline
            [4,6] & $\{1\}, \{2, 3, 4, 5, 6, 7, 11\}, \{12, 14, 15\}, \{24\}, \{23\}$ \\ 
        \hline
            [5,7] & $\{1\}, \{2, 3, 4, 5, 6, 7\}, \{12, 15\}, \{14\}, \{22, 23, 24\}$ \\ 
        \hline
            [6,8] & $\{1\}, \{2, 3, 4, 5, 7, 10, 12, 14, 15, 22, 23, 24\}$ \\ 
        \hline
            [7,9] & $\{1\}, \{2, 3, 4, 5, 7, 8, 9, 10, 12, 14, 15, 16, 18, 22, 23\}$ \\ 
        \hline
            [8,10] & $\{1\}, \{2, 3, 4, 5, 8, 12, 13, 14, 17, 22, 23, 25\}$ \\ 
        \hline
            [9,11] & $\{1, 2, 3, 4\}, \{5, 8, 12, 14, 17\}, \{23, 25\}$ \\ 
        \hline
            [10,12] & $\{1, 2, 3, 4\}, \{5, 8, 12, 14, 17, 23, 25\}$ \\ 
        \hline
            [11,13] & $\{1, 2, 3, 4, 5, 8, 10, 12, 14, 17, 18, 21, 23, 27\}$ \\ 
        \hline
            [12,14] & $\{1, 3, 4, 6, 8, 12, 13, 14, 15, 18, 21, 23, 24\}$ \\ 
        \hline
            [13,15] & $\{3\}, \{1, 4, 6, 8, 11, 12, 14, 18, 21, 23, 24\}$ \\ 
        \hline
            [14,16] & $\{3\}, \{8\}, \{11, 12, 14, 16, 18, 21, 24, 25\}$ \\ 
        \hline
            [15,17] & $\{2, 3\}, \{5, 8\}, \{12, 14, 18\}, \{24\}, \{25\}$ \\ 
        \hline
            [16,18] & $\{2\}, \{5, 8, 12, 18\}, \{14\}, \{24\}, \{25\}$ \\ 
        \hline
    \end{tabular}
\end{center}
\caption{ Množice posrednih in neposrednih tekmovalcev za 3 zaporedne dirke. }
\label{tbl:tabelaPosrednihNeposrednihTekmovalcev3}
\end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=4 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,4] & $\{1\}, \{2, 4, 5, 7, 14, 15, 16\}, \{24\}$ \\
%         \hline
%             [2,5] & $\{1\}, \{2, 3, 4, 5, 6, 7, 8, 9, 14, 15\}, \{24\}$ \\
%         \hline
%             [3,6] & $\{1\}, \{2, 3, 4, 5, 6, 7, 12, 14, 15\}, \{24\}, \{23\}$ \\
%         \hline
%             [4,7] & $\{1\}, \{2, 3, 4, 5, 6, 7\}, \{12, 14, 15\}, \{23, 24\}$ \\
%         \hline
%             [5,8] & $\{1\}, \{2, 3, 4, 5, 7, 12, 14, 15, 22, 23, 24\}$ \\
%         \hline
%             [6,9] & $\{1\}, \{2, 3, 4, 5, 7, 10, 12, 14, 15, 22, 23\}$ \\
%         \hline
%             [7,10] & $\{1\}, \{2, 3, 4, 5, 8, 12, 14, 22, 23\}$ \\
%         \hline
%             [9,12] & $\{1, 2, 3, 4\}, \{5, 8, 12, 14, 17, 23, 25\}$ \\
%         \hline
%             [10,13] & $\{1, 2, 3, 4, 5, 8, 12, 14, 17, 23\}$ \\
%         \hline
%             [11,14] & $\{1, 3, 4, 8, 12, 14, 18, 21, 23\}$ \\
%         \hline
%             [12,15] & $\{1, 3, 4, 6, 8, 12, 14, 18, 21, 23, 24\}$ \\
%         \hline
%             [13,16] & $\{3\}, \{8\}, \{11, 12, 14, 18, 21, 24\}$ \\
%         \hline
%             [14,17] & $\{3\}, \{8\}, \{12, 14, 18, 24, 25\}$ \\
%         \hline
%             [15,18] & $\{2\}, \{5, 8, 12, 14, 18\}, \{24\}, \{25\}$ \\
%         \hline        
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 4 zaporedne dirke. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev4}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=5 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,5] & $\{1\}, \{2, 4, 5, 7, 14, 15\}, \{24\}$ \\
%         \hline
%             [2,6] & $\{1\}, \{2, 3, 4, 5, 6, 7, 14, 15\}, \{24\}$ \\
%         \hline
%             [3,7] & $\{1\}, \{2, 3, 4, 5, 6, 7, 12, 14, 15\}, \{23, 24\}$ \\
%         \hline
%             [4,8] & $\{1\}, \{2, 3, 4, 5, 7, 12, 14, 15, 23, 24\}$ \\
%         \hline
%             [5,9] & $\{1\}, \{2, 3, 4, 5, 7, 12, 14, 15, 22, 23\}$ \\
%         \hline
%             [6,10] & $\{1\}, \{2, 3, 4, 5, 12, 14, 22, 23\}$ \\
%         \hline
%             [7,11] & $\{1, 2, 3, 4, 5, 8, 12, 14, 23\}$ \\
%         \hline
%             [8,12] & $\{1, 2, 3, 4, 5, 8, 12, 14, 17, 23, 25\}$ \\
%         \hline
%             [9,13] & $\{1, 2, 3, 4, 5, 8, 12, 14, 17, 23\}$ \\
%         \hline
%             [10,14] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\
%         \hline
%             [11,15] & $\{1, 3, 4, 8, 12, 14, 18, 21, 23\}$ \\
%         \hline
%             [12,16] & $\{3\}, \{8, 12, 14, 18, 21, 24\}$ \\
%         \hline
%             [13,17] & $\{3\}, \{8\}, \{12, 14, 18, 24\}$ \\
%         \hline
%             [14,18] & $\{8, 12, 14, 18, 24, 25\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 5 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev5}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=6 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,6] & $\{1\}, \{2, 4, 5, 7, 14, 15\}, \{24\}$ \\
%         \hline
%             [2,7] & $\{1\}, \{2, 3, 4, 5, 6, 7, 14, 15\}, \{24\}$ \\
%         \hline
%             [3,8] & $\{1\}, \{2, 3, 4, 5, 7, 12, 14, 15, 23, 24\}$ \\
%         \hline
%             [4,9] & $\{1\}, \{2, 3, 4, 5, 7, 12, 14, 15, 23\}$ \\
%         \hline
%             [5,10] & $\{1\}, \{2, 3, 4, 5, 12, 14, 22, 23\}$ \\
%         \hline
%             [6,11] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [7,12] & $\{1, 2, 3, 4, 5, 8, 12, 14, 23\}$ \\
%         \hline
%             [8,13] & $\{1, 2, 3, 4, 5, 8, 12, 14, 17, 23\}$ \\
%         \hline
%             [9,14] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\
%         \hline
%             [10,15] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\
%         \hline
%             [11,16] & $\{3\}, \{8, 12, 14, 18, 21\}$ \\
%         \hline
%             [12,17] & $\{3\}, \{8, 12, 14, 18, 24\}$ \\
%         \hline
%             [13,18] & $\{8, 12, 14, 18, 24\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 6 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev6}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=7 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,7] & $\{1\}, \{2, 4, 5, 7, 14, 15\}, \{24\}$ \\ 
%         \hline
%             [2,8] & $\{1\}, \{2, 3, 4, 5, 7, 14, 15\}, \{24\}$ \\ 
%         \hline
%             [3,9] & $\{1\}, \{2, 3, 4, 5, 7, 12, 14, 15, 23\}$ \\ 
%         \hline
%             [4,10] & $\{1\}, \{2, 3, 4, 5, 12, 14, 23\}$ \\ 
%         \hline
%             [5,11] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\ 
%         \hline
%             [6,12] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\ 
%         \hline
%             [7,13] & $\{1, 2, 3, 4, 5, 8, 12, 14, 23\}$ \\ 
%         \hline
%             [8,14] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\ 
%         \hline
%             [9,15] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\ 
%         \hline
%             [10,16] & $\{3\}, \{8, 12, 14\}$ \\ 
%         \hline
%             [11,17] & $\{3\}, \{8, 12, 14, 18\}$ \\ 
%         \hline
%             [12,18] & $\{8, 12, 14, 18, 24\}$ \\ 
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 7 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev7}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=8 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,8] & $\{1\}, \{2, 4, 5, 7, 14, 15\}, \{24\}$ \\
%         \hline
%             [2,9] & $\{1\}, \{2, 3, 4, 5, 7, 14, 15\}$ \\
%         \hline
%             [3,10] & $\{1\}, \{2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [4,11] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [5,12] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [6,13] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [7,14] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\
%         \hline
%             [8,15] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\
%         \hline
%             [9,16] & $\{3\}, \{8, 12, 14\}$ \\
%         \hline
%             [10,17] & $\{3\}, \{8, 12, 14\}$ \\
%         \hline
%             [11,18] & $\{8, 12, 14, 18\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 8 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev8}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=9 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,9] & $\{1\}, \{2, 4, 5, 7, 14, 15\}$ \\
%         \hline
%             [2,10] & $\{1\}, \{2, 3, 4, 5\}, \{14\}$ \\
%         \hline
%             [3,11] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [4,12] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [5,13] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [6,14] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [7,15] & $\{1, 3, 4, 8, 12, 14, 23\}$ \\
%         \hline
%             [8,16] & $\{3, 8, 12, 14\}$ \\
%         \hline
%             [9,17] & $\{3\}, \{8, 12, 14\}$ \\
%         \hline
%             [10,18] & $\{8, 12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 9 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev9}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=10 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,10] & $\{1\}, \{2, 4, 5\}, \{14\}$ \\
%         \hline
%             [2,11] & $\{1, 2, 3, 4, 5\}, \{14\}$ \\
%         \hline
%             [3,12] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [4,13] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [5,14] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [6,15] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [7,16] & $\{3, 8, 12, 14\}$ \\
%         \hline
%             [8,17] & $\{3, 8, 12, 14\}$ \\
%         \hline
%             [9,18] & $\{8, 12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 10 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev10}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=11 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,11] & $\{1, 2, 4, 5\}, \{14\}$ \\
%         \hline
%             [2,12] & $\{1, 2, 3, 4, 5\}, \{14\}$ \\
%         \hline
%             [3,13] & $\{1, 2, 3, 4, 5, 12, 14, 23\}$ \\
%         \hline
%             [4,14] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [5,15] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [6,16] & $\{3, 12, 14\}$ \\
%         \hline
%             [7,17] & $\{3, 8, 12, 14\}$ \\
%         \hline
%             [8,18] & $\{8, 12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 11 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev11}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=12 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,12] & $\{1, 2, 4, 5\}, \{14\}$ \\
%         \hline
%             [2,13] & $\{1, 2, 3, 4, 5, 14\}$ \\
%         \hline
%             [3,14] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [4,15] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [5,16] & $\{3, 12, 14\}$ \\
%         \hline
%             [6,17] & $\{3, 12, 14\}$ \\
%         \hline
%             [7,18] & $\{8, 12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 12 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev12}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=13 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,13] & $\{1, 2, 4, 5, 14\}$ \\
%         \hline
%             [2,14] & $\{1, 3, 4, 14\}$ \\
%         \hline
%             [3,15] & $\{1, 3, 4, 12, 14, 23\}$ \\
%         \hline
%             [4,16] & $\{3, 12, 14\}$ \\
%         \hline
%             [5,17] & $\{3, 12, 14\}$ \\
%         \hline
%             [6,18] & $\{12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 13 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev13}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=14 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,14] & $\{1, 4, 14\}$ \\
%         \hline
%             [2,15] & $\{1, 3, 4, 14\}$ \\
%         \hline
%             [3,16] & $\{3, 12, 14\}$ \\
%         \hline
%             [4,17] & $\{3, 12, 14\}$ \\
%         \hline
%             [5,18] & $\{12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 14 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev14}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=15 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,15] & $\{1, 4, 14\}$ \\
%         \hline
%             [2,16] & $\{3\}, \{14\}$ \\
%         \hline
%             [3,17] & $\{3, 12, 14\}$ \\
%         \hline
%             [4,18] & $\{12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 15 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev15}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=16 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,16] & $\{14\}$ \\
%         \hline
%             [2,17] & $\{3\}, \{14\}$ \\
%         \hline
%             [3,18] & $\{12, 14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 16 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev16}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=17 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,17] & $\{14\}$ \\
%         \hline
%             [2,18] & $\{14\}$ \\
%         \hline
%     \end{tabular}
% \end{center}
% \caption{ Množice posrednih in neposrednih tekmovalcev za 17 zaporednih dirk. }
% \label{tbl:tabelaPosrednihNeposrednihTekmovalcev17}
% \end{table}

% \begin{table}
% \begin{center}
%     \begin{tabular}{ |c|c| } 
%         \hline
%             k=18 & Množice posrednih in neposrednih tekmovalcev \\ 
%         \hline
%             [1,18] & $\{14\}$ \\
%         \hline
%         \end{tabular}
%     \end{center}
%     \caption{ Množice posrednih in neposrednih tekmovalcev za 18 zaporednih dirk. }
%     \label{tbl:tabelaPosrednihNeposrednihTekmovalcev18}
% \end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ra\-ču\-nal\-ni\-štvo

\chapter{Sklep}

V diplomskem delu smo si pogledali kaj so inverzije permutacij, njihove lastnosti in kako definirajo permutacijske in tekmovalnostne grafe.

Diplomsko delo smo začeli s ponovitvijo nekaterih osnovnih pojmov, notacij in definicij, s področja teorije grafov, algebre in teorije množic, ki so ključni za nadaljno razumevanje.

Nato smo definirali permutacije in pokazali nekaj načinov kako jih lahko zapišemo. Povedali smo, da je množica vseh permutacij z $n$ elementi skupaj z operacijo kompozitum simetrična grupa. Permutacijska grupa je vsaka podgrupa simetrične grupe ter po Cayleyevem izreku je vsaka grupa izomorfna neki permutacijski grupi.

V nadaljevanju smo povedali kaj so inverzije neke permutacije. Pokazali smo kako lahko permutacije delno uredimo s pomočjo Bruhatovih delnih urejenosti. Šibka Bruhatova delna urejenost nam pove, da lahko vsako permutacijo z $i$ inverzijami uredimo, z natanko $i$ transpozicijami sosednih elementov. Zatem smo pokazali kako pridemo do rodovne funkcije, ki nam šteje število permutacij množice $[n]$ z $i$ inverzijami. Potem smo pokazali kako lahko množico permutacij $S_n$ uredimo in tako vsaki permutaciji iz množice $S_n$ dodelimo celo število $N$, kjer je $0 \leq N \leq n!$. To lahko naredimo s pomočjo Lehmerjeve kode ali vektorja inverzij.

V naslednjem delu smo se posvetili permutacijskim grafom. Najprej smo jih karakterizirali s pomočjo kohezivnega zaporedja grafa. Potem smo se osredotočili na drevesa, ki so permutacijski grafi. Ugotovili smo, da so to ravno gosenice. Pokazali smo, da obstajata natanko dve permutaciji iz $S_n$, ki imata permutacijski graf izomorfen neki gosenici na $n \geq 3$ vozliščih. Nato smo predstavili kako lahko konstruiramo permutacijske grafe s pomočjo kompozicije grafov.

V zadnjem delu smo si pogledali kaj so tekmovalnostni grafi. Povedali smo kaj so rangiranja, kdaj par vozlišč tekmuje, kako je tekmovalnost dveh vozlišč povezana z inverzijami permutacij, kaj je tekmovalnostna množica, kaj je množica tekmovalcev ter kaj je množica posrednih in neposrednih tekmovalcev. Nato smo povedali kaj so primerljivostni grafi in ugotovili, da so permutacijski grafi tako primerljivosti kot tekmovalnostni grafi. Definirali smo tudi delno kohezivno zaporedje vozlišč ter pokazali, da je vsak tekmovalnostni graf delno koheziven. Zatem smo predstavili algoritem za izračun množice posrednih in neposrednih tekmovalcev direktno iz množice rangiranj brez predhodnega izračuna tekmovalnostnega grafa. Pokazali smo tudi kako so množice posrednih in neposrednih tekmovalcev urejene. Na koncu smo algoritem uporabili na resničnih podatkih. Ker so bili podatki iz špotra, kjer so velike spremembe rangiranj pogoste, smo ugotovili, da če želimo pridobiti uporabne informacije, moramo algoritem uporabiti na manjšem številu rangiranj. Prvi prikazan način je izbira nekaterih rangiranj. Drugi prikazan način pa je izbira nekaj zaporednih rangiranj. Pri drugem načinu tako lahko vidimo formo športkov skozi čas. Treba pa je povdariti, da sta oba načina pomanjkliva. Pri prvem je težava, da dobimo informacije iz neke podmnožice rangiranj. Te informacije so lahko zelo variabilne. Pri drugem načinu je težava v tem, da ne dobimo veliko informacij o športnikih, ki so v tem zaporedju imeli en slab rezultat. Rezultate algoritma bi morda lahko izboljšali s pomočjo predprocesiranja podatkov. Na primer v primeru odstopa športnika, ga lahko kaznujemo z uvrstitvijo na njegovo rahlo podpovprečno mesto, namesto da ga diskvalifikaciramo.

\cleardoublepage
\addcontentsline{toc}{chapter}{Literatura}
\bibliography{literatura}
\bibliographystyle{plainnat}

\end{document}

